var q=Object.defineProperty;var R=(t,e,s)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var h=(t,e,s)=>(R(t,typeof e!="symbol"?e+"":e,s),s);import{d as A,a as k,b as B,o as E,r as C,w as T,c as D,e as P,f as g,g as f,h as d,n as M,u as c,i as w,j as N,k as p,t as x,l as S,m as _,p as O,q as $,s as j,v as z}from"./vendor.a0eafc3a.js";const F=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}};F();const H="modulepreload",I={},V="./",b=function(e,s){return!s||s.length===0?e():Promise.all(s.map(n=>{if(n=`${V}${n}`,n in I)return;I[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":H,o||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),o)return new Promise((l,u)=>{i.addEventListener("load",l),i.addEventListener("error",u)})})).then(()=>e())};var W="./assets/quasar_logo_bg.20a7d8f1.svg";class Y{constructor(e,s,n,o,a,i,l){h(this,"id");h(this,"title");h(this,"iconName");h(this,"command");h(this,"loginRequire");h(this,"urlPattern");h(this,"tags");this.id=i,this.title=e,this.iconName=s,this.command=n,this.loginRequire=o,this.urlPattern=a,this.tags=l}}var v;(function(t){t.phone="phone",t.desktop="desktop"})(v||(v={}));var y;(function(t){t.light="light",t.dark="dark"})(y||(y={}));var r=A({id:"app",state(){return{engine:new Y("","","",0,"",0,""),engines:[],hover:!1,mousedown:!1,caret:!1,debug:!1,deviceClass:v.desktop,systemTheme:y.light}},actions:{async doSearch(t){var s;const e=(s=this.engine)==null?void 0:s.urlPattern.replace("{query}",t);await this.postRecord(t,this.engine),window.location.href=e||" "},async postRecord(t,e){await k.post("https://api.catrefuse.com/add-record",{title:e.title,url_pattern:e.urlPattern,engine_id:e.id,tags:e.tags,search_string:t}).then(s=>{}).catch(s=>console.error(s))},switchEngineByAdd(t){var s;let e=0;for(let n=0;n<this.engines.length;n++)this.engines[n].title==((s=this.engine)==null?void 0:s.title)&&(e=n);e=e+t,e>=this.engines.length?e=e-this.engines.length:e<0&&(e=e+this.engines.length),this.engine=this.engines[e]},selectEngine(t){this.engine=t},selectEngineByIndex(t){this.engine=this.engines[t]},selectEngineByTitle(t){for(let e of this.engines)if(e.title==t){this.engine=e;break}},selectEngineByCommand(t){for(let e of this.engines)if(e.command==t){this.engine=e;break}}}});function G(){k.get("https://cdn.catrefuse.com/engines.json").then(t=>{r().engines=t.data,r().engine=t.data[0]}).catch(t=>{console.error(t.message)})}const K={class:"grid grid-cols-12 gap-2 text-gray-800"},Q={class:"fixed bottom-4 right-4 width-[200px] font-['Fira_Code']"},U={key:0},X=d("h3",{class:"mb-1"},"debugger",-1),Z={key:0,class:"fixed bottom-6 right-[28px] text-right z-[-1] select-text text-[14px] mt-4 font-medium opacity-30"},J={class:"my-2"},ee=_(" \xA9 2020 - 2021 \u{1F353} "),te={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},se=_("Bad Strawberry"),ne=[se],oe=_(". All rights reserved. "),re={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},ie=_("\u7528\u6237\u534F\u8BAE"),ae=[ie],ce=_(" \xB7 "),de={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},le=_("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),ue=[le],he=B({setup(t){function e(){r().deviceClass=window.innerWidth>=700?v.desktop:v.phone}function s(){r().systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?y.dark:y.light}E(()=>{e(),window.addEventListener("resize",()=>{e()}),s(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{s()})});const n=C({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),o=C({grow:1,degree:0});T(()=>n.visualCursor,(i,l)=>{const u={x:i.x-l.x,y:i.y-l.y},m=Math.sqrt(u.x*u.x+u.y*u.y);o.grow=Math.min(Math.max(m/20,1),2),o.degree=Math.atan2(u.y,u.x)*180/Math.PI}),E(()=>{G(),document.onmousemove=function(l){n.cursor={x:l.clientX,y:l.clientY}},document.onmousedown=()=>{r().mousedown=!0},document.onmouseup=()=>{r().mousedown=!1},setInterval(()=>{n.visualCursor={x:n.cursor.x,y:n.cursor.y}},50)});function a(){r().debug=!r().debug}return(i,l)=>{const u=D("router-view"),m=P("dot-hover"),L=P("text-hover");return g(),f("div",K,[d("div",{class:"cursor-container",style:w({transform:`translate(${c(n).visualCursor.x-25}px,${c(n).visualCursor.y-25}px)`})},[d("div",{class:M({cursor:!0,hover:c(r)().hover,clicked:c(r)().mousedown,caret:c(r)().caret}),style:w({transform:c(r)().caret?"none":`rotate(${c(o).degree}deg) scale(${c(o).grow}, 1)  `})},null,6)],4),N(u),d("img",{class:"fixed z-[-1000] -right-1 -bottom-1 pointer-events-none",src:W,style:w({transform:"none"})},null,4),d("div",Q,[p(d("div",{class:"fixed top-1 right-1 w-12 h-12 hover:cursor-pointer",onClick:a},null,512),[[m]]),c(r)().debug?(g(),f("div",U,[X,d("p",null,"cursor: "+x(c(n).cursor.x)+", "+x(c(n).cursor.y),1),d("p",null,"deviceClass: "+x(c(r)().deviceClass),1),d("p",null,"systemTheme: "+x(c(r)().systemTheme),1)])):S("",!0)]),c(r)().debug?S("",!0):p((g(),f("div",Z,[d("p",J,[ee,p((g(),f("a",te,ne)),[[m]]),oe]),d("p",null,[p((g(),f("a",re,ae)),[[m]]),ce,p((g(),f("a",de,ue)),[[m]])])])),[[L]])])}}});function me(t){t.directive("dot-hover",(e,s)=>{e.onmouseenter=()=>{r().hover=s.value==null?!0:!s.value},e.onmouseleave=()=>{r().hover=!1}}),t.directive("text-hover",{mounted(e,s){e.onmouseenter=()=>{r().caret=!0},e.onmouseleave=()=>{r().caret=!1}}})}const ge=[{path:"/",name:"Home",component:()=>b(()=>import("./Home.d2d23214.js"),["assets/Home.d2d23214.js","assets/Home.9abc3a70.css","assets/vendor.a0eafc3a.js"])},{path:"/search",name:"SearchRedirect",component:()=>b(()=>import("./SearchRedrirect.feb4099b.js"),["assets/SearchRedrirect.feb4099b.js","assets/vendor.a0eafc3a.js"]),props:t=>({query:t.query.query,engine:t.query.engine})}],fe=O({history:$(),routes:ge});b(()=>Promise.resolve({}),["assets/transition.f598f98a.css"]);const _e=j(he);_e.use(me).use(fe).use(z()).mount("#app");export{r as u};
