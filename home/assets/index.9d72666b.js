import{d as q,a as v,r as B,c as L,b as $,w,e as y,o as _,f as h,g as u,h as f,v as D,u as a,i as I,n as g,t as b,j as E,k as A,l as M,m as N,p as P,F as K,q as O,s as F,x as S,y as W,z as R,A as j}from"./vendor.9cfde51a.js";const z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}};z();var U="./assets/quasar_logo_bg.20a7d8f1.svg",Q="./assets/quasar_logo.ebe1606d.svg",V="./assets/icon_right.6e42ab05.svg",n=q({id:"app",state(){return{engines:[],hover:!1,mousedown:!1,caret:!1,debug:!1}},actions:{switchEngineByAdd(o){var s;let t=0;for(let c=0;c<this.engines.length;c++)this.engines[c].title==((s=this.engine)==null?void 0:s.title)&&(t=c);t=t+o,t>=this.engines.length?t=t-this.engines.length:t<0&&(t=t+this.engines.length),this.engine=this.engines[t]},selectEngine(o){this.engine=o},selectEngineByIndex(o){this.engine=this.engines[o]},selectEngineByTitle(o){for(let t of this.engines)if(t.title==o){this.engine=t;break}},selectEngineByCommand(o){for(let t of this.engines)if(t.command==o){this.engine=t;break}}}});var C=(o,t)=>{const s=o.__vccOpts||o;for(const[c,e]of t)s[c]=e;return s};const Y={class:"container"},H={class:"input"},X=["src"],G=["placeholder"],J=v({props:{urlPattern:{type:String,default:"https://www.baidu.com/s?wd={query}",required:!1},iconName:{type:String,default:"baidu.svg",required:!1}},setup(o){const t=o;function s(){n().caret=!0}function c(){n().caret=!1}const e=B({tip:"",searchStr:"",placeholder:""});let r=L(()=>t.urlPattern.replace("{query}",e.searchStr));function i(l){e.searchStr!=""&&((l==null?void 0:l.isComposing)||window.open(r.value,"_blank"))}const d=$(null);w(()=>n().engine,()=>{setTimeout(()=>{var l;return(l=d.value)==null?void 0:l.focus()},100)}),w(()=>e.searchStr,()=>{if(!e.searchStr.startsWith("\\")){for(let l of n().engines)if(e.searchStr==l.command||e.searchStr==l.title){e.tip=`\u6309\u4E0B\u7A7A\u683C\u9009\u62E9\u300C${l.title}\u300D ${l.loginRequire==1?" / \u9700\u8981\u767B\u5F55":""}`;break}else e.tip="";for(let l of n().engines)(e.searchStr.startsWith(l.command+" ")||e.searchStr.startsWith(l.title+" "))&&(n().selectEngine(l),e.searchStr="")}}),w(()=>n().hoverEngine,(l,p)=>{e.searchStr==""&&(l?e.placeholder=`\u8F93\u5165\u300C${l.command}\u300D\u53EF\u5FEB\u901F\u9009\u62E9\u300C${l.title}\u300D`:e.placeholder="Search for Your Quasar")});function m(){e.searchStr!=""}function k(){e.searchStr!=""&&(e.tip="")}return(l,p)=>{const T=y("dot-hover");return _(),h("div",Y,[u("div",H,[u("img",{src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${o.iconName}`,class:"search-logo"},null,8,X),f(u("input",{type:"text",class:"text_input",placeholder:a(e).placeholder,onKeydown:p[0]||(p[0]=I(x=>i(x),["enter"])),"onUpdate:modelValue":p[1]||(p[1]=x=>a(e).searchStr=x),ref_key:"input",ref:d,onMouseenter:s,onMouseleave:c},null,40,G),[[D,a(e).searchStr]]),u("p",{class:"tip",style:g({color:a(e).tip=="\u70B9\u51FB\u4EE5\u641C\u7D22"?"var(--text-mian)":"var(--text-disabled)"})},b(a(e).tip),5),f(u("img",{src:V,class:"arrow",onClick:p[2]||(p[2]=x=>i()),style:g({opacity:a(e).searchStr==""?.3:1}),onMouseenter:m,onMouseleave:k},null,36),[[T,a(e).searchStr!=""]])])])}}});var Z=C(J,[["__scopeId","data-v-262984cb"]]);const ee={class:"bubble"},te=v({props:{content:{default:"\u63D0\u793A\u6C14\u6CE1"}},setup(o){const t=o;return(s,c)=>(_(),h("div",ee,b(t.content),1))}});var se=C(te,[["__scopeId","data-v-4cb9b0f4"]]);const ne={class:"logo-container"},re=["src"],oe=v({props:{iconName:{default:"baidu.svg"},title:{default:"\u767E\u5EA6"},chosen:{type:Boolean,default:!1},index:null,engine:null},emits:["chose"],setup(o){const t=o;let s=$(!1);function c(){s.value=!0,n().hoverEngine=t.engine}function e(){s.value=!1,n().hoverEngine=void 0}const r=$(null),i=$(0);return E(()=>{var d;i.value=((d=r.value)==null?void 0:d.clientWidth)||0}),(d,m)=>{const k=y("dot-hover");return f((_(),h("div",{class:"label",onClick:m[0]||(m[0]=l=>d.$emit("chose",t.title)),style:g({"background-color":t.chosen?"var(--accent-color)":"white"}),onMouseenter:c,onMouseleave:e,ref_key:"label",ref:r},[u("div",ne,[u("img",{class:A({white:t.chosen}),src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${t.iconName}`},null,10,re)]),u("p",{class:"title",style:g({color:t.chosen?"white":"var(--text-main)"})},b(t.title),5),t.engine.loginRequire==1&&a(s)?(_(),M(se,{key:0,class:"tooltip",content:"\u9700\u8981\u767B\u5F55",style:g({left:`${i.value/2-45}px`})},null,8,["style"])):N("",!0)],36)),[[k]])}}});var ie=C(oe,[["__scopeId","data-v-615614d6"]]);const ae={class:"list"},ce=v({emits:["engine-change"],setup(o){E(()=>{P.get("./engines.json").then(s=>{n().engines=s.data,n().engine=s.data[0]}).catch(s=>{alert(s)})});function t(s,c){n().selectEngineByIndex(c)}return(s,c)=>(_(),h("div",ae,[(_(!0),h(K,null,O(a(n)().engines,(e,r)=>{var i;return _(),M(ie,{key:r,title:e.title,"icon-name":e.iconName,index:r,onChose:d=>t(d,r),chosen:((i=a(n)().engine)==null?void 0:i.title)==e.title,engine:e},null,8,["title","icon-name","index","onChose","chosen","engine"])}),128))]))}});var le=C(ce,[["__scopeId","data-v-ec2619b8"]]);const ue=u("img",{src:Q,class:"logo"},null,-1),de={key:0,class:"footer"},_e=S(" \xA9 2020 - 2021 \u{1F353} "),he={href:"http:///bad-strawberry.com",target:"_blank"},ge=S("Bad Strawberry"),pe=[ge],ve=S(", All rights reserved. "),fe={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},me=S("\u6D59 ICP \u5907 2020033146 \u53F7"),ye=[me],be=v({setup(o){function t(s){n().switchEngineByAdd((s==null?void 0:s.shiftKey)?-1:1)}return(s,c)=>{var i,d;const e=y("dot-hover"),r=y("text-hover");return _(),h("div",{class:"search-container",onKeydown:c[0]||(c[0]=I(W(m=>t(m),["prevent"]),["tab"]))},[ue,F(Z,{class:"search-bar",iconName:(i=a(n)().engine)==null?void 0:i.iconName,"url-pattern":(d=a(n)().engine)==null?void 0:d.urlPattern},null,8,["iconName","url-pattern"]),F(le),a(n)().debug?N("",!0):f((_(),h("div",de,[u("p",null,[_e,f((_(),h("a",he,pe)),[[e]]),ve]),u("p",null,[f((_(),h("a",fe,ye)),[[e]])])])),[[r]])],32)}}}),xe=v({setup(o){return(t,s)=>(_(),M(be,{class:"search"}))}});const $e={class:"main-container"},we={class:"debugger"},Ee={key:0},Se=u("h3",null,"debugger",-1),Ce=v({setup(o){E(()=>{document.title="Quasar"});const t=B({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),s=B({grow:1,degree:0});w(()=>t.visualCursor,(e,r)=>{const i={x:e.x-r.x,y:e.y-r.y},d=Math.sqrt(i.x*i.x+i.y*i.y);s.grow=Math.min(Math.max(d/20,1),2),s.degree=Math.atan2(i.y,i.x)*180/Math.PI}),E(()=>{document.onmousemove=function(r){t.cursor={x:r.clientX,y:r.clientY}},document.onmousedown=()=>{n().mousedown=!0},document.onmouseup=()=>{n().mousedown=!1},setInterval(()=>{t.visualCursor={x:t.cursor.x,y:t.cursor.y}},50)});function c(){n().debug=!n().debug}return(e,r)=>{const i=y("dot-hover");return _(),h("div",$e,[u("div",{class:"cursor-container",style:g({transform:`translate(${a(t).visualCursor.x-25}px,${a(t).visualCursor.y-25}px)`})},[u("div",{class:A({cursor:!0,hover:a(n)().hover,clicked:a(n)().mousedown,caret:a(n)().caret}),style:g({transform:a(n)().caret?"none":`rotate(${a(s).degree}deg) scale(${a(s).grow}, 1)  `})},null,6)],4),F(xe),u("img",{class:"bg_img",src:U,style:g({transform:"none"})},null,4),u("div",we,[f(u("div",{class:"debug-trigger",onClick:c},null,512),[[i]]),a(n)().debug?(_(),h("div",Ee,[Se,u("p",null,"cursor: "+b(a(t).cursor.x)+", "+b(a(t).cursor.y),1)])):N("",!0)])])}}});function ke(o){o.directive("dot-hover",(t,s)=>{t.onmouseenter=()=>{n().hover=s.value==null?!0:!s.value},t.onmouseleave=()=>{n().hover=!1}}),o.directive("text-hover",{mounted(t,s){t.onmouseenter=()=>{n().caret=!0},t.onmouseleave=()=>{n().caret=!1}}})}const Be=R(Ce);Be.use(ke).use(j()).mount("#app");
