var L=Object.defineProperty;var P=(n,e,s)=>e in n?L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var p=(n,e,s)=>(P(n,typeof e!="symbol"?e+"":e,s),s);import{d as A,a as g,r as C,c as F,b as x,w as T,e as I,f as y,o as d,g as _,h as l,i as v,v as D,u as c,j as O,t as w,k as $,n as q,l as f,m as E,p as N,q as W,F as R,s as j,x as M,y as S,z,A as K}from"./vendor.5610df2b.js";const U=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}};U();var V="./assets/quasar_logo_bg.20a7d8f1.svg",Q="./assets/quasar_logo.ebe1606d.svg",Y="./assets/icon_right.6e42ab05.svg";class H{constructor(e,s,i,t,o){p(this,"title");p(this,"iconName");p(this,"command");p(this,"loginRequire");p(this,"urlPattern");this.title=e,this.iconName=s,this.command=i,this.loginRequire=t,this.urlPattern=o}}var r=A({id:"app",state(){return{engine:new H("","","",!1,""),engines:[],hover:!1,mousedown:!1,caret:!1,debug:!1}},actions:{selectEngine(n){this.engine=n},selectEngineByIndex(n){this.engine=this.engines[n]},selectEngineByTitle(n){for(let e of this.engines)if(e.title==n){this.engine=e;break}},selectEngineByCommand(n){for(let e of this.engines)if(e.command==n){this.engine=e;break}}}});var k=(n,e)=>{const s=n.__vccOpts||n;for(const[i,t]of e)s[i]=t;return s};const X={class:"container"},G={class:"input"},J=["src"],Z=g({props:{urlPattern:{type:String,default:"https://www.baidu.com/s?wd={query}",required:!1},iconName:{type:String,default:"baidu.svg",required:!1}},setup(n){const e=n;function s(){r().caret=!0}function i(){r().caret=!1}const t=C({searchStr:""});let o=F(()=>e.urlPattern.replace("{query}",t.searchStr));function a(u){(u==null?void 0:u.isComposing)||window.open(o.value,"_blank")}const h=x(null);return T(()=>{var u;r().engine&&((u=h.value)==null||u.focus())}),I(()=>t.searchStr,()=>{if(!t.searchStr.startsWith("\\"))for(let u of r().engines)(t.searchStr.startsWith(u.command+" ")||t.searchStr.startsWith(u.title+" "))&&(r().selectEngine(u),t.searchStr="")}),(u,m)=>{const B=y("dot-hover");return d(),_("div",X,[l("div",G,[l("img",{src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${n.iconName}`,class:"search-logo"},null,8,J),v(l("input",{type:"text",class:"text_input",placeholder:"Search for Your Quasar",onKeydown:m[0]||(m[0]=O(b=>a(b),["enter"])),"onUpdate:modelValue":m[1]||(m[1]=b=>c(t).searchStr=b),ref_key:"input",ref:h,onMouseenter:s,onMouseleave:i},null,544),[[D,c(t).searchStr]]),v(l("img",{src:Y,class:"arrow",onClick:m[2]||(m[2]=b=>a())},null,512),[[B]])])])}}});var ee=k(Z,[["__scopeId","data-v-aaa7b462"]]);const te={class:"bubble"},se=g({props:{content:{default:"\u63D0\u793A\u6C14\u6CE1"}},setup(n){const e=n;return(s,i)=>(d(),_("div",te,"\u547D\u4EE4\uFF1A"+w(e.content),1))}});var ne=k(se,[["__scopeId","data-v-275f80d5"]]);const oe={class:"logo-container"},re=["src"],ae=g({props:{iconName:{default:"baidu.svg"},title:{default:"\u767E\u5EA6"},chosen:{type:Boolean,default:!1},index:null,engine:null},emits:["chose"],setup(n){const e=n;let s=x(!1);function i(){s.value=!0}function t(){s.value=!1}const o=x(null),a=x(0);return $(()=>{var h;a.value=((h=o.value)==null?void 0:h.clientWidth)||0}),(h,u)=>{const m=y("dot-hover");return v((d(),_("div",{class:"label",onClick:u[0]||(u[0]=B=>h.$emit("chose",e.title)),style:f({"background-color":e.chosen?"var(--accent-color)":"white"}),onMouseenter:i,onMouseleave:t,ref_key:"label",ref:o},[l("div",oe,[l("img",{class:q({white:e.chosen}),src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${e.iconName}`},null,10,re)]),l("p",{class:"title",style:f({color:e.chosen?"white":"var(--text-main)"})},w(e.title),5),c(s)?(d(),E(ne,{key:0,class:"tooltip",content:e.engine.command,style:f({left:`${a.value/2-45}px`})},null,8,["content","style"])):N("",!0)],36)),[[m]])}}});var ie=k(ae,[["__scopeId","data-v-20c91b0a"]]);const ce={class:"list"},le=g({emits:["engine-change"],setup(n){$(()=>{W.get("./engines.json").then(s=>{r().engines=s.data,r().engine=s.data[0]}).catch(s=>{alert(s)})});function e(s,i){r().selectEngineByIndex(i)}return(s,i)=>(d(),_("div",ce,[(d(!0),_(R,null,j(c(r)().engines,(t,o)=>(d(),E(ie,{key:o,title:t.title,"icon-name":t.iconName,index:o,onChose:a=>e(a,o),chosen:c(r)().engine.title==t.title,engine:t},null,8,["title","icon-name","index","onChose","chosen","engine"]))),128))]))}});var ue=k(le,[["__scopeId","data-v-8fd228ee"]]);const de={class:"search-container"},_e=l("img",{src:Q,class:"logo"},null,-1),he={key:0,class:"footer"},me=S(" \xA9 2020 - 2021 \u{1F353} "),ge={href:"http:///bad-strawberry.com",target:"_blank"},ve=S("Bad Strawberry"),pe=[ve],fe=S(", All rights reserved. "),ye={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},be=S("\u6D59 ICP \u5907 2020033146 \u53F7"),xe=[be],we=g({setup(n){return(e,s)=>{const i=y("dot-hover"),t=y("text-hover");return d(),_("div",de,[_e,M(ee,{class:"search-bar",iconName:c(r)().engine.iconName,"url-pattern":c(r)().engine.urlPattern},null,8,["iconName","url-pattern"]),M(ue),c(r)().debug?N("",!0):v((d(),_("div",he,[l("p",null,[me,v((d(),_("a",ge,pe)),[[i]]),fe]),l("p",null,[v((d(),_("a",ye,xe)),[[i]])])])),[[t]])])}}}),$e=g({setup(n){return(e,s)=>(d(),E(we,{class:"search"}))}});const Se={class:"main-container"},ke={class:"debugger"},Ce={key:0},Ee=l("h3",null,"debugger",-1),Ne=g({setup(n){$(()=>{document.title="Quasar"});const e=C({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),s=C({grow:1,degree:0});I(()=>e.visualCursor,(t,o)=>{const a={x:t.x-o.x,y:t.y-o.y},h=Math.sqrt(a.x*a.x+a.y*a.y);s.grow=Math.min(Math.max(h/20,1),2),s.degree=Math.atan2(a.y,a.x)*180/Math.PI}),$(()=>{document.onmousemove=function(o){e.cursor={x:o.clientX,y:o.clientY}},document.onmousedown=()=>{r().mousedown=!0},document.onmouseup=()=>{r().mousedown=!1},setInterval(()=>{e.visualCursor={x:e.cursor.x,y:e.cursor.y}},50)});function i(){r().debug=!r().debug}return(t,o)=>{const a=y("dot-hover");return d(),_("div",Se,[l("div",{class:"cursor-container",style:f({transform:`translate(${c(e).visualCursor.x-25}px,${c(e).visualCursor.y-25}px)`})},[l("div",{class:q({cursor:!0,hover:c(r)().hover,clicked:c(r)().mousedown,caret:c(r)().caret}),style:f({transform:c(r)().caret?"none":`rotate(${c(s).degree}deg) scale(${c(s).grow}, 1)  `})},null,6)],4),M($e),l("img",{class:"bg_img",src:V,style:f({transform:"none"})},null,4),l("div",ke,[v(l("div",{class:"debug-trigger",onClick:i},null,512),[[a]]),c(r)().debug?(d(),_("div",Ce,[Ee,l("p",null,"cursor: "+w(c(e).cursor.x)+", "+w(c(e).cursor.y),1)])):N("",!0)])])}}});function Me(n){n.directive("dot-hover",{mounted(e,s){e.onmouseenter=()=>{r().hover=!0},e.onmouseleave=()=>{r().hover=!1}}}),n.directive("text-hover",{mounted(e,s){e.onmouseenter=()=>{r().caret=!0},e.onmouseleave=()=>{r().caret=!1}}})}const Be=z(Ne);Be.use(Me).use(K()).mount("#app");
