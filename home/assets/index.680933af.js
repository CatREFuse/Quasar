var L=Object.defineProperty;var P=(n,e,s)=>e in n?L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var v=(n,e,s)=>(P(n,typeof e!="symbol"?e+"":e,s),s);import{d as D,a as y,r as B,c as W,b as w,w as E,e as b,o as h,f as _,g as u,h as m,v as K,u as c,i as F,n as p,t as S,j as $,k as I,l as O,F as R,m as j,p as T,q as N,s as q,x as C,y as z,z as U,A as Q}from"./vendor.8f377e7d.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}};V();var Y="./assets/quasar_logo_bg.20a7d8f1.svg",H="./assets/quasar_logo.ebe1606d.svg",X="./assets/icon_right.6e42ab05.svg";class G{constructor(e,s,i,t,r){v(this,"title");v(this,"iconName");v(this,"command");v(this,"loginRequire");v(this,"urlPattern");this.title=e,this.iconName=s,this.command=i,this.loginRequire=t,this.urlPattern=r}}var o=D({id:"app",state(){return{engine:new G("","","",!1,""),engines:[],hover:!1,mousedown:!1,caret:!1,debug:!1}},actions:{switchEngineByAdd(n){var s;let e=0;for(let i=0;i<this.engines.length;i++)this.engines[i].title==((s=this.engine)==null?void 0:s.title)&&(e=i);e=e+n,e>=this.engines.length?e=e-this.engines.length:e<0&&(e=e+this.engines.length),this.engine=this.engines[e]},selectEngine(n){this.engine=n},selectEngineByIndex(n){this.engine=this.engines[n]},selectEngineByTitle(n){for(let e of this.engines)if(e.title==n){this.engine=e;break}},selectEngineByCommand(n){for(let e of this.engines)if(e.command==n){this.engine=e;break}}}});var M=(n,e)=>{const s=n.__vccOpts||n;for(const[i,t]of e)s[i]=t;return s};const J={class:"container"},Z={class:"input"},ee=["src"],te=["placeholder"],se=y({props:{urlPattern:{type:String,default:"https://www.baidu.com/s?wd={query}",required:!1},iconName:{type:String,default:"baidu.svg",required:!1}},setup(n){const e=n;function s(){o().caret=!0}function i(){o().caret=!1}const t=B({tip:"",searchStr:"",placeholder:""});let r=W(()=>e.urlPattern.replace("{query}",t.searchStr));function a(l){t.searchStr!=""&&((l==null?void 0:l.isComposing)||window.open(r.value,"_blank"))}const d=w(null);E(()=>o().engine,()=>{setTimeout(()=>{var l;return(l=d.value)==null?void 0:l.focus()},100)}),E(()=>t.searchStr,()=>{if(!t.searchStr.startsWith("\\")){for(let l of o().engines)if(t.searchStr.startsWith(l.command)||t.searchStr.startsWith(l.title)){t.tip=`\u6309\u4E0B\u7A7A\u683C\u9009\u62E9\u300C${l.title}\u300D`;break}else t.tip="";for(let l of o().engines)(t.searchStr.startsWith(l.command+" ")||t.searchStr.startsWith(l.title+" "))&&(o().selectEngine(l),t.searchStr="")}}),E(()=>o().hoverEngine,(l,g)=>{t.searchStr==""&&(l?t.placeholder=`\u8F93\u5165\u300C${l.command}\u300D\u53EF\u5FEB\u901F\u9009\u62E9\u300C${l.title}\u300D`:t.placeholder="Search for Your Quasar")});function f(){t.searchStr!=""}function k(){t.searchStr!=""&&(t.tip="")}return(l,g)=>{const A=b("dot-hover");return h(),_("div",J,[u("div",Z,[u("img",{src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${n.iconName}`,class:"search-logo"},null,8,ee),m(u("input",{type:"text",class:"text_input",placeholder:c(t).placeholder,onKeydown:g[0]||(g[0]=F(x=>a(x),["enter"])),"onUpdate:modelValue":g[1]||(g[1]=x=>c(t).searchStr=x),ref_key:"input",ref:d,onMouseenter:s,onMouseleave:i},null,40,te),[[K,c(t).searchStr]]),u("p",{class:"tip",style:p({color:c(t).tip=="\u70B9\u51FB\u4EE5\u641C\u7D22"?"var(--text-mian)":"var(--text-disabled)"})},S(c(t).tip),5),m(u("img",{src:X,class:"arrow",onClick:g[2]||(g[2]=x=>a()),style:p({opacity:c(t).searchStr==""?.3:1}),onMouseenter:f,onMouseleave:k},null,36),[[A,c(t).searchStr!=""]])])])}}});var ne=M(se,[["__scopeId","data-v-530c460d"]]);const re={class:"logo-container"},oe=["src"],ie=y({props:{iconName:{default:"baidu.svg"},title:{default:"\u767E\u5EA6"},chosen:{type:Boolean,default:!1},index:null,engine:null},emits:["chose"],setup(n){const e=n;let s=w(!1);function i(){s.value=!0,o().hoverEngine=e.engine}function t(){s.value=!1,o().hoverEngine=void 0}const r=w(null),a=w(0);return $(()=>{var d;a.value=((d=r.value)==null?void 0:d.clientWidth)||0}),(d,f)=>{const k=b("dot-hover");return m((h(),_("div",{class:"label",onClick:f[0]||(f[0]=l=>d.$emit("chose",e.title)),style:p({"background-color":e.chosen?"var(--accent-color)":"white"}),onMouseenter:i,onMouseleave:t,ref_key:"label",ref:r},[u("div",re,[u("img",{class:I({white:e.chosen}),src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${e.iconName}`},null,10,oe)]),u("p",{class:"title",style:p({color:e.chosen?"white":"var(--text-main)"})},S(e.title),5)],36)),[[k]])}}});var ae=M(ie,[["__scopeId","data-v-39255d9e"]]);const ce={class:"list"},le=y({emits:["engine-change"],setup(n){$(()=>{O.get("./engines.json").then(s=>{o().engines=s.data,o().engine=s.data[0]}).catch(s=>{alert(s)})});function e(s,i){o().selectEngineByIndex(i)}return(s,i)=>(h(),_("div",ce,[(h(!0),_(R,null,j(c(o)().engines,(t,r)=>{var a;return h(),T(ae,{key:r,title:t.title,"icon-name":t.iconName,index:r,onChose:d=>e(d,r),chosen:((a=c(o)().engine)==null?void 0:a.title)==t.title,engine:t},null,8,["title","icon-name","index","onChose","chosen","engine"])}),128))]))}});var ue=M(le,[["__scopeId","data-v-ec2619b8"]]);const de=u("img",{src:H,class:"logo"},null,-1),he={key:0,class:"footer"},_e=C(" \xA9 2020 - 2021 \u{1F353} "),ge={href:"http:///bad-strawberry.com",target:"_blank"},me=C("Bad Strawberry"),pe=[me],fe=C(", All rights reserved. "),ve={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},ye=C("\u6D59 ICP \u5907 2020033146 \u53F7"),be=[ye],xe=y({setup(n){function e(s){o().switchEngineByAdd((s==null?void 0:s.shiftKey)?-1:1)}return(s,i)=>{var a,d;const t=b("dot-hover"),r=b("text-hover");return h(),_("div",{class:"search-container",onKeydown:i[0]||(i[0]=F(z(f=>e(f),["prevent"]),["tab"]))},[de,N(ne,{class:"search-bar",iconName:(a=c(o)().engine)==null?void 0:a.iconName,"url-pattern":(d=c(o)().engine)==null?void 0:d.urlPattern},null,8,["iconName","url-pattern"]),N(ue),c(o)().debug?q("",!0):m((h(),_("div",he,[u("p",null,[_e,m((h(),_("a",ge,pe)),[[t]]),fe]),u("p",null,[m((h(),_("a",ve,be)),[[t]])])])),[[r]])],32)}}}),we=y({setup(n){return(e,s)=>(h(),T(xe,{class:"search"}))}});const Ee={class:"main-container"},Se={class:"debugger"},$e={key:0},Ce=u("h3",null,"debugger",-1),ke=y({setup(n){$(()=>{document.title="Quasar"});const e=B({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),s=B({grow:1,degree:0});E(()=>e.visualCursor,(t,r)=>{const a={x:t.x-r.x,y:t.y-r.y},d=Math.sqrt(a.x*a.x+a.y*a.y);s.grow=Math.min(Math.max(d/20,1),2),s.degree=Math.atan2(a.y,a.x)*180/Math.PI}),$(()=>{document.onmousemove=function(r){e.cursor={x:r.clientX,y:r.clientY}},document.onmousedown=()=>{o().mousedown=!0},document.onmouseup=()=>{o().mousedown=!1},setInterval(()=>{e.visualCursor={x:e.cursor.x,y:e.cursor.y}},50)});function i(){o().debug=!o().debug}return(t,r)=>{const a=b("dot-hover");return h(),_("div",Ee,[u("div",{class:"cursor-container",style:p({transform:`translate(${c(e).visualCursor.x-25}px,${c(e).visualCursor.y-25}px)`})},[u("div",{class:I({cursor:!0,hover:c(o)().hover,clicked:c(o)().mousedown,caret:c(o)().caret}),style:p({transform:c(o)().caret?"none":`rotate(${c(s).degree}deg) scale(${c(s).grow}, 1)  `})},null,6)],4),N(we),u("img",{class:"bg_img",src:Y,style:p({transform:"none"})},null,4),u("div",Se,[m(u("div",{class:"debug-trigger",onClick:i},null,512),[[a]]),c(o)().debug?(h(),_("div",$e,[Ce,u("p",null,"cursor: "+S(c(e).cursor.x)+", "+S(c(e).cursor.y),1)])):q("",!0)])])}}});function Be(n){n.directive("dot-hover",{updated(e,s){e.onmouseenter=()=>{o().hover=s.value},e.onmouseleave=()=>{o().hover=!1}}}),n.directive("text-hover",{mounted(e,s){e.onmouseenter=()=>{o().caret=!0},e.onmouseleave=()=>{o().caret=!1}}})}const Ne=U(ke);Ne.use(Be).use(Q()).mount("#app");
