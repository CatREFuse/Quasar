import{b as m,r as F,x as T,y as x,w as y,e as S,f as h,g as f,h as u,k as C,z as M,u as l,A as E,i as g,t as $,o as D,n as q,F as A,B as W,C as K,j as b,D as L}from"./vendor.a0eafc3a.js";import{u as t}from"./index.987ec9a2.js";var R="./assets/quasar_logo.ebe1606d.svg",j="./assets/icon_right.6e42ab05.svg";const z={class:"w-full"},P={class:"flex flex-row items-center h-14 w-full gap-2 py-0 pl-4 pr-2 rounded-[16px] bg-white"},I=["src"],U=["placeholder"],V=m({props:{urlPattern:{type:String,default:"https://www.baidu.com/s?wd={query}",required:!1},iconName:{type:String,default:"baidu.svg",required:!1}},setup(i){const n=i;function o(){t().caret=!0}function r(){t().caret=!1}const e=F({tip:"",searchStr:"",placeholder:"",isComposing:!1});let a=T(()=>n.urlPattern.replace("{query}",e.searchStr));function c(){e.isComposing=!0}function d(){setTimeout(()=>{e.isComposing=!1},10)}function v(s){e.searchStr!=""&&(e.isComposing||(t().engine,t().postRecord(e.searchStr,t().engine),window.open(a.value,"_blank")))}const _=x(null);y(()=>t().engine,()=>{setTimeout(()=>{var s;return(s=_.value)==null?void 0:s.focus()},100)}),y(()=>e.searchStr,()=>{if(!e.searchStr.startsWith("\\")){for(let s of t().engines)if(e.searchStr==s.command||e.searchStr==s.title){e.tip=`\u6309\u4E0B\u7A7A\u683C\u9009\u62E9\u300C${s.title}\u300D ${s.loginRequire==1?" / \u9700\u8981\u767B\u5F55":""}`;break}else e.tip="";for(let s of t().engines)(e.searchStr.startsWith(s.command+" ")||e.searchStr.startsWith(s.title+" "))&&(t().selectEngine(s),e.searchStr="")}}),y(()=>t().hoverEngine,(s,p)=>{e.searchStr==""&&(s?e.placeholder=`\u8F93\u5165\u300C${s.command}\u300D\u53EF\u5FEB\u901F\u9009\u62E9\u300C${s.title}\u300D`:e.placeholder="Search for Your Quasar")});function k(){e.searchStr!=""}function B(){e.searchStr!=""&&(e.tip="")}return(s,p)=>{const N=S("dot-hover");return h(),f("div",z,[u("div",P,[u("img",{src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${i.iconName}`,class:"w-6 h-6 select-none"},null,8,I),C(u("input",{type:"text",class:"w-full h-15 font-bold placeholder:text-gray-300 placeholder:font-bold outline-none",placeholder:l(e).placeholder,onKeydown:p[0]||(p[0]=E(w=>v(),["enter"])),"onUpdate:modelValue":p[1]||(p[1]=w=>l(e).searchStr=w),ref_key:"input",ref:_,onMouseenter:o,onMouseleave:r,onCompositionstart:c,onCompositionend:d},null,40,U),[[M,l(e).searchStr]]),u("p",{class:"text-xs font-medium",style:g({color:l(e).tip=="\u70B9\u51FB\u4EE5\u641C\u7D22"?"var(--text-mian)":"var(--text-disabled)"})},$(l(e).tip),5),C(u("img",{src:j,class:"select-none hover:cursor-pointer",onClick:p[2]||(p[2]=w=>v()),style:g({opacity:l(e).searchStr==""?.3:1}),onMouseenter:k,onMouseleave:B,onCompositionstart:c,onCompositionend:d},null,36),[[N]])])])}}});var O=(i,n)=>{const o=i.__vccOpts||i;for(const[r,e]of n)o[r]=e;return o};const Q={class:"w-6 h-6 overflow-hidden"},Y=["src"],G=m({props:{iconName:{default:"baidu.svg"},title:{default:"\u767E\u5EA6"},chosen:{type:Boolean,default:!1},index:null,engine:null},emits:["chose"],setup(i){const n=i;function o(){t().hoverEngine=n.engine}function r(){t().hoverEngine=void 0}const e=x(null),a=x(0);D(()=>{var d;a.value=((d=e.value)==null?void 0:d.clientWidth)||0});function c(){t().selectEngine(n.engine)}return(d,v)=>{const _=S("dot-hover");return C((h(),f("div",{class:"relative inline-flex items-center gap-2 py-0 px-4 bg-white rounded-2xl h-12 transition-all select-none hover:drop-shadow-2xl hover:transition-all hover:cursor-pointer group",onClick:c,style:g({"background-color":n.chosen?"var(--accent-color)":"white"}),onMouseenter:o,onMouseleave:r,ref_key:"label",ref:e},[u("div",Q,[u("img",{class:q({white:n.chosen}),src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${n.iconName}`},null,10,Y)]),u("p",{class:"font-bold text-[17px]",style:g({color:n.chosen?"white":"var(--text-main)"})},$(n.title),5)],36)),[[_]])}}});var H=O(G,[["__scopeId","data-v-f47d517c"]]);const J={class:"flex flex-row items-start p-0 gap-4 flex-wrap w-full user-select-none"},X=m({emits:["engine-change"],setup(i){function n(o,r){t().selectEngineByIndex(r)}return(o,r)=>(h(),f("div",J,[(h(!0),f(A,null,W(l(t)().engines,(e,a)=>{var c;return h(),K(H,{key:a,title:e.title,"icon-name":e.iconName,index:a,onChose:d=>n(d,a),chosen:((c=l(t)().engine)==null?void 0:c.title)==e.title,engine:e},null,8,["title","icon-name","index","onChose","chosen","engine"])}),128))]))}}),Z=u("img",{src:R,class:"w-60 select-none"},null,-1),ee=m({setup(i){function n(o){t().switchEngineByAdd((o==null?void 0:o.shiftKey)?-1:1)}return(o,r)=>{var e,a;return h(),f("div",{class:"flex flex-col gap-6",onKeydown:r[0]||(r[0]=E(L(c=>n(c),["prevent"]),["tab"]))},[Z,b(V,{class:"w-full",iconName:(e=l(t)().engine)==null?void 0:e.iconName,"url-pattern":(a=l(t)().engine)==null?void 0:a.urlPattern},null,8,["iconName","url-pattern"]),b(X)],32)}}}),te={class:"col-start-2 col-end-7 min-w-[500px] mt-16"},oe=m({setup(i){return(n,o)=>(h(),f("div",te,[b(ee,{class:"w-full"})]))}});export{oe as default};
