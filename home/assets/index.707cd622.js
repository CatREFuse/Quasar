var T=Object.defineProperty;var P=(n,e,s)=>e in n?T(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var f=(n,e,s)=>(P(n,typeof e!="symbol"?e+"":e,s),s);import{d as D,a as v,r as $,c as K,b as k,w as x,e as w,o as d,f as _,g as u,h as g,v as O,u as c,i as F,n as p,t as E,j as S,k as I,l as R,F as W,m as j,p as q,q as B,s as z,x as A,y,z as Q,A as U}from"./vendor.f51b9a70.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}};Y();var H="./assets/quasar_logo_bg.20a7d8f1.svg",V="./assets/quasar_logo.ebe1606d.svg",G="./assets/icon_right.6e42ab05.svg";class X{constructor(e,s,a,t,o,i){f(this,"id");f(this,"title");f(this,"iconName");f(this,"command");f(this,"loginRequire");f(this,"urlPattern");this.id=i,this.title=e,this.iconName=s,this.command=a,this.loginRequire=t,this.urlPattern=o}}var r=D({id:"app",state(){return{engine:new X("","","",0,"",0),engines:[],hover:!1,mousedown:!1,caret:!1,debug:!1}},actions:{switchEngineByAdd(n){var s;let e=0;for(let a=0;a<this.engines.length;a++)this.engines[a].title==((s=this.engine)==null?void 0:s.title)&&(e=a);e=e+n,e>=this.engines.length?e=e-this.engines.length:e<0&&(e=e+this.engines.length),this.engine=this.engines[e]},selectEngine(n){this.engine=n},selectEngineByIndex(n){this.engine=this.engines[n]},selectEngineByTitle(n){for(let e of this.engines)if(e.title==n){this.engine=e;break}},selectEngineByCommand(n){for(let e of this.engines)if(e.command==n){this.engine=e;break}}}});var N=(n,e)=>{const s=n.__vccOpts||n;for(const[a,t]of e)s[a]=t;return s};const Z={class:"container"},J={class:"input"},ee=["src"],te=["placeholder"],se=v({props:{urlPattern:{type:String,default:"https://www.baidu.com/s?wd={query}",required:!1},iconName:{type:String,default:"baidu.svg",required:!1}},setup(n){const e=n;function s(){r().caret=!0}function a(){r().caret=!1}const t=$({tip:"",searchStr:"",placeholder:""});let o=K(()=>e.urlPattern.replace("{query}",t.searchStr));function i(l){t.searchStr!=""&&((l==null?void 0:l.isComposing)||window.open(o.value,"_blank"))}const h=k(null);x(()=>r().engine,()=>{setTimeout(()=>{var l;return(l=h.value)==null?void 0:l.focus()},100)}),x(()=>t.searchStr,()=>{if(!t.searchStr.startsWith("\\")){for(let l of r().engines)if(t.searchStr==l.command||t.searchStr==l.title){t.tip=`\u6309\u4E0B\u7A7A\u683C\u9009\u62E9\u300C${l.title}\u300D ${l.loginRequire==1?" / \u9700\u8981\u767B\u5F55":""}`;break}else t.tip="";for(let l of r().engines)(t.searchStr.startsWith(l.command+" ")||t.searchStr.startsWith(l.title+" "))&&(r().selectEngine(l),t.searchStr="")}}),x(()=>r().hoverEngine,(l,m)=>{t.searchStr==""&&(l?t.placeholder=`\u8F93\u5165\u300C${l.command}\u300D\u53EF\u5FEB\u901F\u9009\u62E9\u300C${l.title}\u300D`:t.placeholder="Search for Your Quasar")});function M(){t.searchStr!=""}function C(){t.searchStr!=""&&(t.tip="")}return(l,m)=>{const L=w("dot-hover");return d(),_("div",Z,[u("div",J,[u("img",{src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${n.iconName}`,class:"search-logo"},null,8,ee),g(u("input",{type:"text",class:"text_input",placeholder:c(t).placeholder,onKeydown:m[0]||(m[0]=F(b=>i(b),["enter"])),"onUpdate:modelValue":m[1]||(m[1]=b=>c(t).searchStr=b),ref_key:"input",ref:h,onMouseenter:s,onMouseleave:a},null,40,te),[[O,c(t).searchStr]]),u("p",{class:"tip",style:p({color:c(t).tip=="\u70B9\u51FB\u4EE5\u641C\u7D22"?"var(--text-mian)":"var(--text-disabled)"})},E(c(t).tip),5),g(u("img",{src:G,class:"arrow",onClick:m[2]||(m[2]=b=>i()),style:p({opacity:c(t).searchStr==""?.3:1}),onMouseenter:M,onMouseleave:C},null,36),[[L]])])])}}});var ne=N(se,[["__scopeId","data-v-2517f34c"]]);const re={class:"logo-container"},oe=["src"],ie=v({props:{iconName:{default:"baidu.svg"},title:{default:"\u767E\u5EA6"},chosen:{type:Boolean,default:!1},index:null,engine:null},emits:["chose"],setup(n){const e=n;function s(){r().hoverEngine=e.engine}function a(){r().hoverEngine=void 0}const t=k(null),o=k(0);S(()=>{var h;o.value=((h=t.value)==null?void 0:h.clientWidth)||0});function i(){r().selectEngine(e.engine)}return(h,M)=>{const C=w("dot-hover");return g((d(),_("div",{class:"label",onClick:i,style:p({"background-color":e.chosen?"var(--accent-color)":"white"}),onMouseenter:s,onMouseleave:a,ref_key:"label",ref:t},[u("div",re,[u("img",{class:I({white:e.chosen}),src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${e.iconName}`},null,10,oe)]),u("p",{class:"title",style:p({color:e.chosen?"white":"var(--text-main)"})},E(e.title),5)],36)),[[C]])}}});var ae=N(ie,[["__scopeId","data-v-b0ad1898"]]);const ce={class:"list"},le=v({emits:["engine-change"],setup(n){S(()=>{R.get("./engines.json").then(s=>{r().engines=s.data,r().engine=s.data[0]}).catch(s=>{alert(s)})});function e(s,a){r().selectEngineByIndex(a)}return(s,a)=>(d(),_("div",ce,[(d(!0),_(W,null,j(c(r)().engines,(t,o)=>{var i;return d(),q(ae,{key:o,title:t.title,"icon-name":t.iconName,index:o,onChose:h=>e(h,o),chosen:((i=c(r)().engine)==null?void 0:i.title)==t.title,engine:t},null,8,["title","icon-name","index","onChose","chosen","engine"])}),128))]))}});var ue=N(le,[["__scopeId","data-v-ec2619b8"]]);const de=u("img",{src:V,class:"logo"},null,-1),he=v({setup(n){function e(s){r().switchEngineByAdd((s==null?void 0:s.shiftKey)?-1:1)}return(s,a)=>{var t,o;return d(),_("div",{class:"search-container",onKeydown:a[0]||(a[0]=F(z(i=>e(i),["prevent"]),["tab"]))},[de,B(ne,{class:"search-bar",iconName:(t=c(r)().engine)==null?void 0:t.iconName,"url-pattern":(o=c(r)().engine)==null?void 0:o.urlPattern},null,8,["iconName","url-pattern"]),B(ue)],32)}}}),_e=v({setup(n){return(e,s)=>(d(),q(he,{class:"search"}))}});const ge={class:"main-container"},me={class:"debugger"},fe={key:0},pe=u("h3",null,"debugger",-1),ve={key:0,class:"footer"},ye=y(" \xA9 2020 - 2021 \u{1F353} "),be={href:"http:///bad-strawberry.com",target:"_blank"},xe=y("Bad Strawberry"),we=[xe],Ee=y(", All rights reserved. "),Se={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank"},Ce=y("\u7528\u6237\u534F\u8BAE"),$e=[Ce],ke=y(" \xB7 "),Be={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},Ne=y("\u6D59 ICP \u5907 2020033146 \u53F7"),Me=[Ne],Fe=v({setup(n){S(()=>{document.title="Quasar"});const e=$({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),s=$({grow:1,degree:0});x(()=>e.visualCursor,(t,o)=>{const i={x:t.x-o.x,y:t.y-o.y},h=Math.sqrt(i.x*i.x+i.y*i.y);s.grow=Math.min(Math.max(h/20,1),2),s.degree=Math.atan2(i.y,i.x)*180/Math.PI}),S(()=>{document.onmousemove=function(o){e.cursor={x:o.clientX,y:o.clientY}},document.onmousedown=()=>{r().mousedown=!0},document.onmouseup=()=>{r().mousedown=!1},setInterval(()=>{e.visualCursor={x:e.cursor.x,y:e.cursor.y}},50)});function a(){r().debug=!r().debug}return(t,o)=>{const i=w("dot-hover"),h=w("text-hover");return d(),_("div",ge,[u("div",{class:"cursor-container",style:p({transform:`translate(${c(e).visualCursor.x-25}px,${c(e).visualCursor.y-25}px)`})},[u("div",{class:I({cursor:!0,hover:c(r)().hover,clicked:c(r)().mousedown,caret:c(r)().caret}),style:p({transform:c(r)().caret?"none":`rotate(${c(s).degree}deg) scale(${c(s).grow}, 1)  `})},null,6)],4),B(_e),u("img",{class:"bg_img",src:H,style:p({transform:"none"})},null,4),u("div",me,[g(u("div",{class:"debug-trigger",onClick:a},null,512),[[i]]),c(r)().debug?(d(),_("div",fe,[pe,u("p",null,"cursor: "+E(c(e).cursor.x)+", "+E(c(e).cursor.y),1)])):A("",!0)]),c(r)().debug?A("",!0):g((d(),_("div",ve,[u("p",null,[ye,g((d(),_("a",be,we)),[[i]]),Ee]),u("p",null,[g((d(),_("a",Se,$e)),[[i]]),ke,g((d(),_("a",Be,Me)),[[i]])])])),[[h]])])}}});function Ie(n){n.directive("dot-hover",(e,s)=>{e.onmouseenter=()=>{r().hover=s.value==null?!0:!s.value},e.onmouseleave=()=>{r().hover=!1}}),n.directive("text-hover",{mounted(e,s){e.onmouseenter=()=>{r().caret=!0},e.onmouseleave=()=>{r().caret=!1}}})}const qe=Q(Fe);qe.use(Ie).use(U()).mount("#app");
