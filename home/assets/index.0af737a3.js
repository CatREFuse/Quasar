import{d as N,a as D,b as E,r as C,o as d,c as m,e as l,w as p,f as F,n as S,u as i,g as y,h as x,i as M,j as L,k as I,l as W,m as b,p as q,q as O,s as R,v as j,t as k,x as $,y as T,T as K,z as H,K as V,A as w,B as Y,F as G,C as X,D as Q}from"./vendor.ce0bba1e.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};U();const Z="modulepreload",P={},J="./",A=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${J}${o}`,o in P)return;P[o]=!0;const n=o.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":Z,n||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),n)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",u)})})).then(()=>t())};var _;(function(e){e.phone="phone",e.desktop="desktop"})(_||(_={}));var f;(function(e){e.light="light",e.dark="dark",e.auto="auto"})(f||(f={}));var v;(function(e){e.follow="\u5706\u70B9\u8DDF\u968F",e.take="\u5706\u70B9",e.none="\u65E0\u7279\u6548"})(v||(v={}));var r=N({id:"app",state(){return{engine:null,engines:null,hover:!1,caret:!1,debug:!1,deviceClass:_.desktop,systemTheme:f.light,compactMode:window.localStorage.getItem("compactMode")=="true",userThemeSetting:window.localStorage.getItem("userThemeSetting")||f.auto,hoverEngine:null,cursorEffect:window.localStorage.getItem("cursorEffect")||v.none,userAgent:{str:"",isFirefox:!1,isWindows:!1,isChrome:!1,isSafari:!1,isWebKit:!1}}},actions:{async doSearch(e){var s;const t=(s=this.engine)==null?void 0:s.urlPattern.replace("{query}",e);await this.postRecord(e,this.engine),window.location.href=t||" "},async postRecord(e,t){await D.post("https://api.catrefuse.com/add-record",{title:t.title,url_pattern:t.urlPattern,engine_id:t.id,tags:t.tags,search_string:e}).then(s=>{}).catch(s=>console.error(s))},switchEngineByAdd(e){var s;let t=0;for(let o=0;o<this.engines.length;o++)this.engines[o].title==((s=this.engine)==null?void 0:s.title)&&(t=o);t=t+e,t>=this.engines.length?t=t-this.engines.length:t<0&&(t=t+this.engines.length),this.engine=this.engines[t]},selectEngine(e){this.engine=e},selectEngineByIndex(e){this.engine=this.engines[e]},selectEngineByTitle(e){for(let t of this.engines)if(t.title==e){this.engine=t;break}},selectEngineByCommand(e){for(let t of this.engines)if(t.command==e){this.engine=t;break}},changeCursorEffect(e){this.cursorEffect=e,window.localStorage.setItem("cursorEffect",e)},changeThemeSetting(e){this.userThemeSetting=e,window.localStorage.setItem("userThemeSetting",e)},changeCompactMode(e){this.compactMode=e,window.localStorage.setItem("compactMode",e?"true":"false")}},getters:{theme(){return this.userThemeSetting==f.auto?this.systemTheme:this.userThemeSetting}}});function ee(){D.get("https://api.catrefuse.com/assets/engines.json").then(e=>{r().engines=e.data,r().engine=e.data[0]}).catch(e=>{console.error(e.message)})}const te={class:"fixed bottom-4 right-4 w-[300px] flex flex-col rounded-lg overflow-hidden bg-zinc-800 shadow-2xl"},se={id:"debugger-header",class:"w-full text-center flex flex-row items-center justify-center text-white h-8 text-sm"},oe=l("div",{class:"select-none"},"debugger",-1),ne=l("div",{class:"rounded-full bg-red-500 h-3 w-3"},null,-1),re=l("div",{class:"rounded-full bg-yellow-500 h-3 w-3"},null,-1),ie=l("div",{class:"rounded-full bg-gray-500 h-3 w-3"},null,-1),ae=[ne,re,ie],le={id:"debugger-body",class:"font-mono text-green-600 bg-overlayshadow-xl p-5"},ce={class:"flex flex-col gap-1"},de=E({emits:["close"],setup(e,{emit:t}){return(s,o)=>{const n=C("text-hover");return d(),m("div",te,[l("div",se,[oe,l("div",{id:"dot-controller",class:"flex flex-row items-center gap-2 absolute left-0 p-3 hover:cursor-pointer",onClick:o[0]||(o[0]=a=>t("close"))},ae)]),p((d(),m("div",le,[l("div",ce,[F(s.$slots,"default")])])),[[n]])])}}}),ue={class:"my-2"},me=y(" \xA9 2020 - 2021 \u{1F353} "),he={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},fe=y("Bad Strawberry"),ge=[fe],pe=y(". "),_e=l("span",null,"All rights reserved.",-1),ve={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},ye=y("\u7528\u6237\u534F\u8BAE"),xe=[ye],we=y(" \xB7 "),Ee={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},be=y("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),ke=[be],Ce=E({setup(e){return(t,s)=>{const o=C("dot-hover");return d(),m("div",{class:S(["invisible md:visible md:fixed md:z-[100] md:bottom-6 select-text text-sm mt-4 font-medium text-tertiary",i(r)().compactMode?"md:w-[100vw] text-center":" md:right-[28px] md:text-right"])},[l("p",ue,[me,p((d(),m("a",he,ge)),[[o]]),pe,_e]),l("p",null,[p((d(),m("a",ve,xe)),[[o]]),we,p((d(),m("a",Ee,ke)),[[o]])])],2)}}});function Se(){let e=x({x:0,y:0});return document.addEventListener("mousemove",function(s){e.x=s.clientX,e.y=s.clientY}),e}function $e(){function e(){r().deviceClass=window.innerWidth>=736?_.desktop:_.phone}function t(){r().systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?f.dark:f.light}M(()=>{e(),window.addEventListener("resize",()=>{e()}),t(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{t()})}),L(()=>{r().theme=="dark"?document.getElementsByTagName("html")[0].classList.add("dark"):document.getElementsByTagName("html")[0].classList.remove("dark")}),setTimeout(()=>{document.body.classList.add("transition")},50)}var Te=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s};const Ae=E({props:{follow:{type:Boolean,default:!1},shape:{default:"dot"}},setup(e){const t=e;let s=x({x:0,y:0});document.addEventListener("mousemove",function(u){s.x=u.clientX,s.y=u.clientY});let o=I(!1);document.addEventListener("mousedown",()=>{o.value=!0}),document.addEventListener("mouseup",()=>{o.value=!1});let n=x({x:0,y:0});const a=x({grow:1,degree:0});setInterval(()=>{n.x=s.x,n.y=s.y},10);let c=I(!0);return W(()=>[n.x,n.y],(h,u)=>{if(c.value)return;const g={x:h[0]-u[0],y:h[1]-u[1]},z=Math.sqrt(g.x*g.x+g.y*g.y);a.grow=Math.min(Math.max(z/10,1),2),a.degree=Math.atan2(g.y,g.x)*180/Math.PI}),document.getElementsByTagName("html")[0].addEventListener("mouseleave",()=>{c.value=!0,a.grow=1,a.degree=0}),document.getElementsByTagName("html")[0].addEventListener("mouseenter",()=>c.value=!1),(h,u)=>(d(),m("div",{id:"dot-cursor",class:"cursor-container",style:b({transform:`translate(${i(n).x-25}px,${i(n).y-25}px)`,transition:`all ${t.follow?"0.08s":"0.05s"} cubic-bezier(0.1, 0.28, 0.45, 0.75)`})},[l("div",{class:S({cursor:!0,hover:t.shape=="hover",clicked:i(o),caret:t.shape=="caret"}),style:b({transform:t.shape=="caret"?"none":`rotate(${i(a).degree}deg) scale(${i(a).grow}, 1)  `})},null,6)],4))}});var Be=Te(Ae,[["__scopeId","data-v-1b5f311e"]]);function Le(){r().userAgent.str=window.navigator.userAgent;const e=window.navigator.userAgent;r().userAgent.isFirefox=e.includes("Firefox"),r().userAgent.isWindows=e.toLowerCase().includes("Windows".toLowerCase()),r().userAgent.isChrome=e.includes("Chrome"),r().userAgent.isSafari=e.includes("Safari")&&!r().userAgent.str.includes("Chrome"),r().userAgent.isWebKit=e.toLowerCase().includes("WebKit".toLowerCase()),r().userAgent.isWebKit||(r().cursorEffect=v.none)}const Ie=E({props:{name:{default:"bx-left-arrow-alt"},size:{default:"m"},full:{type:Boolean,default:!1}},setup(e){const t=e,s={xs:1,s:1.25,m:1.5,l:2,xl:3,xxl:4};let o=x({"font-size":`${s[t.size]}rem`,transform:`${t.full?"scale(1.5)":""}`}),n=x({width:`${s[t.size]}rem`,height:`${s[t.size]}rem`});return(a,c)=>(d(),m("div",{id:"container",style:b(i(n))},[l("i",{class:S(`bx ${t.name}`),style:b(i(o))},null,6)],4))}}),De=[{path:"/",name:"Home",component:()=>A(()=>import("./Home.6d0282aa.js"),["assets/Home.6d0282aa.js","assets/Home.7d4aa75a.css","assets/vendor.ce0bba1e.js"]),meta:{depth:0}},{path:"/preference",name:"Preference",component:()=>A(()=>import("./Preference.ecc6070e.js"),["assets/Preference.ecc6070e.js","assets/vendor.ce0bba1e.js"]),meta:{depth:1}},{path:"/search",name:"SearchRedirect",component:()=>A(()=>import("./SearchRedrirect.69079f2f.js"),["assets/SearchRedrirect.69079f2f.js","assets/vendor.ce0bba1e.js"]),props:e=>({query:e.query.query,engine:e.query.engine})}],B=q({history:O(),routes:De});B.afterEach((e,t)=>{const s=e.path.split("/").length,o=t.path.split("/").length;e.meta.transition=s<o?"slide-left":"slide-right"});const Me={class:"grid grid-cols-12 gap-2 text-gray-800 select-none"},Pe=["src"],ze=E({setup(e){$e(),Le();const t=Se();M(()=>{ee()}),L(()=>{r().deviceClass==_.phone&&document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))}),L(()=>{if(r().cursorEffect==v.take){var o=document.createElement("link");o.href=r().userAgent.isSafari?"./css/no-cusor-safari.css":"./css/no-cusor.css",o.rel="stylesheet",o.type="text/css",o.id="no-cursor-link",document.getElementsByTagName("head")[0].appendChild(o)}else document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))});let s=I("slide-left");return B.beforeEach((o,n)=>{n.meta.depth!=null?s.value=o.meta.depth<n.meta.depth?"slide-left":"slide-right":s.value="fade"}),(o,n)=>{const a=R("router-view"),c=C("dot-hover"),h=C("text-hover");return d(),m(G,null,[l("div",Me,[p(k(Be,{follow:i(r)().cursorEffect==i(v).follow,shape:i(r)().hover?"hover":i(r)().caret?"caret":"dot"},null,8,["follow","shape"]),[[j,i(r)().cursorEffect!=i(v).none&&i(r)().deviceClass!=i(_).phone]]),p(k(Ie,{name:"bxs-cog",class:"text-secondary hover:cursor-pointer absolute top-4 right-4",size:"l",onClick:n[0]||(n[0]=u=>i(B).push("/preference"))},null,512),[[c]]),l("div",{id:"grid-container",class:S(["col-start-2 col-end-12 mt-12 relative md:min-w-[512px] md:max-w-[764px]",i(r)().compactMode?"md:mx-auto md:w-[640px] md:mt-[12%]":" md:col-start-2 md:col-end-9  md:mt-16 "])},[k(a,null,{default:$(({Component:u,route:g})=>[(d(),T(V,null,[k(K,{name:i(s),mode:"out-in"},{default:$(()=>[(d(),T(H(u)))]),_:2},1032,["name"])],1024))]),_:1})],2),l("img",{name:"background-img",class:"fixed z-[-1000] -right-1 -bottom-1 pointer-events-none select-none",src:i(r)().theme==i(f).light?"/assets/quasar_logo_bg.svg":"/assets/quasar_logo_bg_dark.svg",style:b({transform:"none"})},null,12,Pe)]),k(Y,{name:"slide-down"},{default:$(()=>[i(r)().debug?(d(),T(de,{key:0,onClose:n[1]||(n[1]=u=>i(r)().debug=!1)},{default:$(()=>[l("p",null,"cursor: "+w(i(t).x)+", "+w(i(t).y),1),l("p",null,"deviceClass: "+w(i(r)().deviceClass),1),l("p",null,"systemTheme: "+w(i(r)().systemTheme),1),l("p",null,"compactMode: "+w(i(r)().compactMode),1),l("p",null,"userAgent: "+w(i(r)().userAgent.str),1)]),_:1})):p((d(),T(Ce,{key:1},null,512)),[[h]])]),_:1})],64)}}});function Ne(e){e.directive("dot-hover",(t,s)=>{t.onmouseenter=()=>{r().hover=s.value==null?!0:!s.value},t.onmouseleave=()=>{r().hover=!1}}),e.directive("text-hover",{mounted(t,s){t.onmouseenter=()=>{r().caret=!0},t.onmouseleave=()=>{r().caret=!1}}})}A(()=>Promise.resolve({}),["assets/transition.b2fa5aae.css"]);const Fe=X(ze);Fe.use(Ne).use(B).use(Q()).mount("#app");export{v as C,_ as D,f as T,Te as _,Ie as a,B as r,r as u};
