import{b as v,r as q,v as I,x,w as S,o as B,e as b,f as c,g as h,h as u,k as _,y as z,u as r,z as N,t as T,i as y,n as F,F as L,A as R,B as W,j as E,l as K,C as f,D as P}from"./vendor.a6db5cbf.js";import{u as t}from"./index.467f39e1.js";var V="./assets/quasar_logo.ebe1606d.svg",j="./assets/icon_right.6e42ab05.svg";const Q=["src"],U=["placeholder"],Y=v({props:{urlPattern:{type:String,default:"https://www.baidu.com/s?wd={query}",required:!1},iconName:{type:String,default:"baidu.svg",required:!1}},setup(d){const s=d;function n(){t().caret=!0}function i(){t().caret=!1}const e=q({tip:"",searchStr:"",placeholder:"",isComposing:!1});let m=I(()=>s.urlPattern.replace("{query}",e.searchStr));function a(){e.isComposing=!0}function l(){setTimeout(()=>{e.isComposing=!1},10)}function g(o){e.searchStr!=""&&(e.isComposing||(t().engine,t().postRecord(e.searchStr,t().engine),window.open(m.value,"_blank")))}const w=x(null);S(()=>t().engine,()=>{setTimeout(()=>{var o;return(o=w.value)==null?void 0:o.focus()},100)});const k=x(null);let $=x(100);B(()=>{window.addEventListener("scroll",()=>{$.value=k.value.getBoundingClientRect().top})}),S(()=>e.searchStr,()=>{if(!e.searchStr.startsWith("\\")){for(let o of t().engines)if(e.searchStr==o.command||e.searchStr==o.title){e.tip=`\u6309\u4E0B\u7A7A\u683C\u9009\u62E9\u300C${o.title}\u300D ${o.loginRequire==1?" / \u9700\u8981\u767B\u5F55":""}`;break}else e.tip="";for(let o of t().engines)(e.searchStr.startsWith(o.command+" ")||e.searchStr.startsWith(o.title+" "))&&(t().selectEngine(o),e.searchStr="")}}),S(()=>t().hoverEngine,(o,p)=>{e.searchStr==""&&(o?e.placeholder=`\u8F93\u5165\u300C${o.command}\u300D\u53EF\u9009\u62E9\u300C${o.title}\u300D`:e.placeholder="Search for Your Quasar")});function M(){e.searchStr!=""}function D(){e.searchStr!=""&&(e.tip="")}return(o,p)=>{const A=b("dot-hover");return c(),h("div",{class:F(["inline-flex flex-row items-center h-14 w-full gap-2 py-0 pl-4 pr-2 rounded-[1rem] bg-white text-sm md:text-base align-middle sticky top-4 z-[1000] transition-shadow",{"shadow-2xl":r($)<=4*4}]),ref_key:"searchbar",ref:k},[u("img",{src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${d.iconName}`,class:"w-6 h-6 select-none"},null,8,Q),_(u("input",{type:"text",class:"h-14 font-bold w-full placeholder:text-gray-300 placeholder:font-bold outline-none",placeholder:r(e).placeholder,onKeydown:p[0]||(p[0]=N(C=>g(),["enter"])),"onUpdate:modelValue":p[1]||(p[1]=C=>r(e).searchStr=C),ref_key:"input",ref:w,onMouseenter:n,onMouseleave:i,onCompositionstart:a,onCompositionend:l},null,40,U),[[z,r(e).searchStr]]),u("p",{class:"text-xs font-medium text-right whitespace-nowrap",style:y({color:r(e).tip=="\u70B9\u51FB\u4EE5\u641C\u7D22"?"var(--text-mian)":"var(--text-disabled)"})},T(r(e).tip),5),_(u("img",{src:j,class:"select-none hover:cursor-pointer w-8 h-8",onClick:p[2]||(p[2]=C=>g()),style:y({opacity:r(e).searchStr==""?.3:1}),onMouseenter:M,onMouseleave:D,onCompositionstart:a,onCompositionend:l},null,36),[[A]])],2)}}});var G=(d,s)=>{const n=d.__vccOpts||d;for(const[i,e]of s)n[i]=e;return n};const H={class:"w-4 h-4 md:w-6 md:h-6 overflow-hidden"},O=["src"],Z=v({props:{iconName:{default:"baidu.svg"},title:{default:"\u767E\u5EA6"},chosen:{type:Boolean,default:!1},index:null,engine:null},emits:["chose"],setup(d){const s=d;function n(){t().hoverEngine=s.engine}function i(){t().hoverEngine=void 0}const e=x(null),m=x(0);B(()=>{var l;m.value=((l=e.value)==null?void 0:l.clientWidth)||0});function a(){t().selectEngine(s.engine)}return(l,g)=>{const w=b("dot-hover");return _((c(),h("div",{class:"relative inline-flex items-center gap-2 py-0 px-4 bg-white rounded-2xl h-11 md:h-12 md:transition-all select-none md:hover:shadow-2xl md:hover:transition-all hover:cursor-pointer group",onTouch:a,onMousedown:a,style:y({"background-color":s.chosen?"var(--accent-color)":"white"}),onMouseenter:n,onMouseleave:i,ref_key:"label",ref:e},[u("div",H,[u("img",{class:F({white:s.chosen}),src:`https://gitee.com/CatREFuse/img-base/raw/master/icons/${s.iconName}`},null,10,O)]),u("p",{class:"font-bold text-base md:text[17px]",style:y({color:s.chosen?"white":"var(--text-main)"})},T(s.title),5)],36)),[[w]])}}});var J=G(Z,[["__scopeId","data-v-1c8fbf52"]]);const X={class:"flex flex-row items-start p-0 gap-3 md:gap-4 flex-wrap w-full user-select-none"},ee=v({emits:["engine-change"],setup(d){function s(n,i){t().selectEngineByIndex(i)}return(n,i)=>(c(),h("div",X,[(c(!0),h(L,null,R(r(t)().engines,(e,m)=>{var a;return c(),W(J,{key:m,title:e.title,"icon-name":e.iconName,index:m,onChose:l=>s(l,m),chosen:((a=r(t)().engine)==null?void 0:a.title)==e.title,engine:e},null,8,["title","icon-name","index","onChose","chosen","engine"])}),128))]))}}),te=u("img",{src:V,class:"w-40 md:w-60 select-none"},null,-1),oe={key:0,name:"footer",class:"text-center md:fixed md:bottom-6 md:right-[28px] md:text-right md:z-[100] select-text text-sm mt-4 font-medium opacity-30"},se={class:"my-2"},ne=f(" \xA9 2020 - 2021 \u{1F353} "),re={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},ie=f("Bad Strawberry"),ae=[ie],le=f(". "),ce=u("span",null,"All rights reserved.",-1),ue={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},de=f("\u7528\u6237\u534F\u8BAE"),he=[de],me=f(" \xB7 "),pe={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},_e=f("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),fe=[_e],ge=v({setup(d){function s(n){t().switchEngineByAdd((n==null?void 0:n.shiftKey)?-1:1)}return(n,i)=>{var a,l;const e=b("dot-hover"),m=b("text-hover");return c(),h("div",{class:"flex flex-col gap-4 md:gap-6",onKeydown:i[0]||(i[0]=N(P(g=>s(g),["prevent"]),["tab"]))},[te,E(Y,{iconName:(a=r(t)().engine)==null?void 0:a.iconName,"url-pattern":(l=r(t)().engine)==null?void 0:l.urlPattern},null,8,["iconName","url-pattern"]),E(ee),r(t)().debug?K("",!0):_((c(),h("div",oe,[u("p",se,[ne,_((c(),h("a",re,ae)),[[e]]),le,ce]),u("p",null,[_((c(),h("a",ue,he)),[[e]]),me,_((c(),h("a",pe,fe)),[[e]])])])),[[m]])],32)}}}),ve={class:"col-start-2 col-end-12 md:col-start-2 md:col-end-7 md:min-w-[512px] md:max-w-[720px] mt-12 md:mt-16"},be=v({setup(d){return(s,n)=>(c(),h("div",ve,[E(ge,{class:"w-full"})]))}});export{be as default};
