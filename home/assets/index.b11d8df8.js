import{d as D,a as B,b as L,r as w,w as v,o as u,c as g,e as l,u as a,f as N,t as h,g as b,h as _,i as q,j as O,k as $,l as P,m as R,n as k,p as K,q as M,s as C,v as j,x as A,y as S,z as T,F as z,T as V,A as H,K as Y,B as G,C as Q}from"./vendor.0cac3f45.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};U();const X="modulepreload",F={},Z="./",x=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${Z}${r}`,r in F)return;F[r]=!0;const o=r.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":X,o||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),o)return new Promise((m,d)=>{i.addEventListener("load",m),i.addEventListener("error",d)})})).then(()=>t())};var y;(function(e){e.phone="phone",e.desktop="desktop"})(y||(y={}));var f;(function(e){e.light="light",e.dark="dark",e.auto="auto"})(f||(f={}));var p;(function(e){e.follow="\u8DDF\u968F",e.take="\u66FF\u4EE3\u9ED8\u8BA4\u9F20\u6807",e.none="\u65E0\u7279\u6548"})(p||(p={}));var s=D({id:"app",state(){return{engine:null,engines:null,hover:!1,mousedown:!1,caret:!1,debug:!1,deviceClass:y.desktop,systemTheme:f.light,userThemeSetting:window.localStorage.getItem("userThemeSetting")||f.auto,hoverEngine:null,cursorEffect:window.localStorage.getItem("cursorEffect")||p.none,userAgent:{str:"",isFirefox:!1,isWindows:!1,isChrome:!1,isSafari:!1,isWebKit:!1}}},actions:{async doSearch(e){var n;const t=(n=this.engine)==null?void 0:n.urlPattern.replace("{query}",e);await this.postRecord(e,this.engine),window.location.href=t||" "},async postRecord(e,t){await B.post("https://api.catrefuse.com/add-record",{title:t.title,url_pattern:t.urlPattern,engine_id:t.id,tags:t.tags,search_string:e}).then(n=>{}).catch(n=>console.error(n))},switchEngineByAdd(e){var n;let t=0;for(let r=0;r<this.engines.length;r++)this.engines[r].title==((n=this.engine)==null?void 0:n.title)&&(t=r);t=t+e,t>=this.engines.length?t=t-this.engines.length:t<0&&(t=t+this.engines.length),this.engine=this.engines[t]},selectEngine(e){this.engine=e},selectEngineByIndex(e){this.engine=this.engines[e]},selectEngineByTitle(e){for(let t of this.engines)if(t.title==e){this.engine=t;break}},selectEngineByCommand(e){for(let t of this.engines)if(t.command==e){this.engine=t;break}},changeCursorEffect(e){this.cursorEffect=e,window.localStorage.setItem("cursorEffect",e)},changeThemeSetting(e){this.userThemeSetting=e,window.localStorage.setItem("userThemeSetting",e)}},getters:{theme(){return this.userThemeSetting==f.auto?this.systemTheme:this.userThemeSetting}}});function J(){B.get("https://cdn.catrefuse.com/engines.json").then(e=>{s().engines=e.data,s().engine=e.data[0]}).catch(e=>{console.error(e.message)})}const ee={id:"debugger",class:"fixed bottom-4 right-4 w-[300px] font-['Fira_Code', 'Courier New']"},te={key:0,class:"flex flex-col gap-1"},se=l("h3",{class:"mb-1"},"debugger",-1),ne=L({setup(e){return(t,n)=>{const r=w("dot-hover"),o=w("text-hover");return v((u(),g("div",ee,[v(l("div",{class:"fixed top-1 right-1 w-12 h-12 hover:cursor-pointer",onClick:n[0]||(n[0]=c=>a(s)().debug=!a(s)().debug)},null,512),[[r]]),a(s)().debug?(u(),g("div",te,[se,N(t.$slots,"default"),l("p",null,"deviceClass: "+h(a(s)().deviceClass),1),l("p",null,"systemTheme: "+h(a(s)().systemTheme),1),l("p",null,"isFirefox: "+h(a(s)().userAgent.isFirefox),1),l("p",null,"isWindows: "+h(a(s)().userAgent.isWindows),1),l("p",null,"isChrome: "+h(a(s)().userAgent.isChrome),1),l("p",null,"isSafari: "+h(a(s)().userAgent.isSafari),1),l("p",null,"isWebKit: "+h(a(s)().userAgent.isWebKit),1),l("p",null,"userAgent: "+h(a(s)().userAgent.str),1)])):b("",!0)])),[[o]])}}});var re=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const oe={},ie={class:"invisible md:visible md:fixed md:bottom-6 md:right-[28px] md:text-right md:z-[100] select-text text-sm mt-4 font-medium text-secondary"},ae={class:"my-2"},ce=_(" \xA9 2020 - 2021 \u{1F353} "),le={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},de=_("Bad Strawberry"),ue=[de],he=_(". "),me=l("span",null,"All rights reserved.",-1),ge={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},fe=_("\u7528\u6237\u534F\u8BAE"),_e=[fe],pe=_(" \xB7 "),ve={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},ye=_("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),we=[ye];function xe(e,t){const n=w("dot-hover");return u(),g("div",ie,[l("p",ae,[ce,v((u(),g("a",le,ue)),[[n]]),he,me]),l("p",null,[v((u(),g("a",ge,_e)),[[n]]),pe,v((u(),g("a",ve,we)),[[n]])])])}var Ee=re(oe,[["render",xe]]);const be=[{path:"/",name:"Home",component:()=>x(()=>import("./Home.529979f1.js"),["assets/Home.529979f1.js","assets/Home.c67f78b1.css","assets/vendor.0cac3f45.js","assets/box-icon.e066c630.js","assets/box-icon.c3749a6e.css"]),meta:{depth:0}},{path:"/preference",name:"Preference",component:()=>x(()=>import("./Preference.84f8e0d3.js"),["assets/Preference.84f8e0d3.js","assets/box-icon.e066c630.js","assets/box-icon.c3749a6e.css","assets/vendor.0cac3f45.js"]),meta:{depth:1}},{path:"/search",name:"SearchRedirect",component:()=>x(()=>import("./SearchRedrirect.3a720b60.js"),["assets/SearchRedrirect.3a720b60.js","assets/vendor.0cac3f45.js"]),props:e=>({query:e.query.query,engine:e.query.engine})}],I=q({history:O(),routes:be});I.afterEach((e,t)=>{const n=e.path.split("/").length,r=t.path.split("/").length;e.meta.transition=n<r?"slide-left":"slide-right"});const ke={class:"grid grid-cols-12 gap-2 text-gray-800 select-none"},Ce={class:"col-start-2 col-end-12 md:col-start-2 md:col-end-9 md:min-w-[512px] md:max-w-[764px] mt-12 md:mt-16 relative"},Ae=["src"],Se=L({setup(e){function t(){s().deviceClass=window.innerWidth>=736?y.desktop:y.phone}function n(){s().systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?f.dark:f.light}$(()=>{t(),window.addEventListener("resize",()=>{t()}),n(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{n()})});const r=P({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),o=P({grow:1,degree:0});R(()=>r.visualCursor,(i,m)=>{const d={x:i.x-m.x,y:i.y-m.y},E=Math.sqrt(d.x*d.x+d.y*d.y);o.grow=Math.min(Math.max(E/5,1),2),o.degree=Math.atan2(d.y,d.x)*180/Math.PI}),k(()=>{s().theme=="dark"?document.getElementsByTagName("html")[0].classList.add("dark"):document.getElementsByTagName("html")[0].classList.remove("dark")}),$(()=>{J(),document.onmousemove=function(d){r.cursor={x:d.clientX,y:d.clientY}},document.onmousedown=()=>{s().mousedown=!0},document.onmouseup=()=>{s().mousedown=!1},setInterval(()=>{r.visualCursor={x:r.cursor.x,y:r.cursor.y}},10),s().userAgent.str=window.navigator.userAgent;const i=window.navigator.userAgent;s().userAgent.isFirefox=i.includes("Firefox"),s().userAgent.isWindows=i.toLowerCase().includes("Windows".toLowerCase()),s().userAgent.isChrome=i.includes("Chrome"),s().userAgent.isSafari=i.includes("Safari")&&!s().userAgent.str.includes("Chrome"),s().userAgent.isWebKit=i.toLowerCase().includes("WebKit".toLowerCase()),s().userAgent.isWebKit||(s().cursorEffect=p.none)}),k(()=>{s().deviceClass==y.phone&&document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))}),k(()=>{if(s().cursorEffect==p.take){var i=document.createElement("link");i.href=s().userAgent.isSafari?"./css/no-cusor-safari.css":"./css/no-cusor.css",i.rel="stylesheet",i.type="text/css",i.id="no-cursor-link",document.getElementsByTagName("head")[0].appendChild(i)}else document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))});let c=K("slide-left");return I.beforeEach((i,m)=>{m.meta.depth!=null?c.value=i.meta.depth<m.meta.depth?"slide-left":"slide-right":c.value="fade"}),(i,m)=>{const d=M("router-view"),E=w("text-hover");return u(),g(z,null,[l("div",ke,[a(s)().cursorEffect!=a(p).none?(u(),g("div",{key:0,class:"cursor-container invisible md:visible",style:C({transform:`translate(${a(r).visualCursor.x-25}px,${a(r).visualCursor.y-25}px)`,transition:`all ${a(s)().cursorEffect==a(p).follow?"0.1s":"0.05s"} cubic-bezier(0.1, 0.28, 0.45, 0.75)`})},[l("div",{class:j({cursor:!0,hover:a(s)().hover,clicked:a(s)().mousedown,caret:a(s)().caret}),style:C({transform:a(s)().caret?"none":`rotate(${a(o).degree}deg) scale(${a(o).grow}, 1)  `})},null,6)],4)):b("",!0),l("div",Ce,[A(d,null,{default:S(({Component:W,route:Be})=>[(u(),T(Y,null,[A(V,{name:a(c),mode:"out-in"},{default:S(()=>[(u(),T(H(W)))]),_:2},1032,["name"])],1024))]),_:1})]),l("img",{name:"background-img",class:"fixed z-[-1000] -right-1 -bottom-1 pointer-events-none select-none",src:a(s)().theme==a(f).light?"/assets/quasar_logo_bg.svg":"/assets/quasar_logo_bg_dark.svg",style:C({transform:"none"})},null,12,Ae)]),A(ne,null,{default:S(()=>[_("cursor: "+h(a(r).cursor.x)+", "+h(a(r).cursor.y),1)]),_:1}),a(s)().debug?b("",!0):v((u(),T(Ee,{key:0},null,512)),[[E]])],64)}}});function Te(e){e.directive("dot-hover",(t,n)=>{t.onmouseenter=()=>{s().hover=n.value==null?!0:!n.value},t.onmouseleave=()=>{s().hover=!1}}),e.directive("text-hover",{mounted(t,n){t.onmouseenter=()=>{s().caret=!0},t.onmouseleave=()=>{s().caret=!1}}})}x(()=>Promise.resolve({}),["assets/transition.e7180b52.css"]);const Ie=G(Se);Ie.use(Te).use(I).use(Q()).mount("#app");export{p as C,f as T,re as _,I as r,s as u};
