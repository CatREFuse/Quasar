var P=Object.defineProperty;var S=(t,e,s)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var d=(t,e,s)=>(S(t,typeof e!="symbol"?e+"":e,s),s);import{d as I,a as p,b as q,o as y,r as x,w as B,c as L,e as b,f as h,g,h as l,n as R,u as c,i as v,j as A,k as _,t as w,l as E,m,p as N,q as $,s as D,v as M}from"./vendor.7ed62f3d.js";const O=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};O();var j="./assets/quasar_logo_bg.20a7d8f1.svg";class H{constructor(e,s,i,r,n,o,u){d(this,"id");d(this,"title");d(this,"iconName");d(this,"command");d(this,"loginRequire");d(this,"urlPattern");d(this,"tags");this.id=o,this.title=e,this.iconName=s,this.command=i,this.loginRequire=r,this.urlPattern=n,this.tags=u}}var a=I({id:"app",state(){return{engine:new H("","","",0,"",0,""),engines:[],hover:!1,mousedown:!1,caret:!1,debug:!1}},actions:{doSearch(t){var s;const e=(s=this.engine)==null?void 0:s.urlPattern.replace("{query}",t);this.postRecord(t,this.engine),window.location.href=e||" "},postRecord(t,e){p.post("https://api.catrefuse.com/add-record",{title:e.title,url_pattern:e.urlPattern,engine_id:e.id,tags:e.tags,search_string:t}).then(s=>{}).catch(s=>console.error(s))},switchEngineByAdd(t){var s;let e=0;for(let i=0;i<this.engines.length;i++)this.engines[i].title==((s=this.engine)==null?void 0:s.title)&&(e=i);e=e+t,e>=this.engines.length?e=e-this.engines.length:e<0&&(e=e+this.engines.length),this.engine=this.engines[e]},selectEngine(t){this.engine=t},selectEngineByIndex(t){this.engine=this.engines[t]},selectEngineByTitle(t){for(let e of this.engines)if(e.title==t){this.engine=e;break}},selectEngineByCommand(t){for(let e of this.engines)if(e.command==t){this.engine=e;break}}}});function F(){p.get("./engines.json").then(t=>{a().engines=t.data,a().engine=t.data[0]}).catch(t=>{console.error(t.message)})}const T={class:"main-container"},V={class:"debugger"},z={key:0},Q=l("h3",null,"debugger",-1),W={key:0,class:"footer"},Y=m(" \xA9 2020 - 2021 \u{1F353} "),G={href:"http:///bad-strawberry.com",target:"_blank"},K=m("Bad Strawberry"),U=[K],X=m(", All rights reserved. "),Z={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank"},J=m("\u7528\u6237\u534F\u8BAE"),ee=[J],te=m(" \xB7 "),se={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},re=m("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),ne=[re],oe=q({setup(t){y(()=>{document.title="Quasar"});const e=x({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),s=x({grow:1,degree:0});B(()=>e.visualCursor,(r,n)=>{const o={x:r.x-n.x,y:r.y-n.y},u=Math.sqrt(o.x*o.x+o.y*o.y);s.grow=Math.min(Math.max(u/20,1),2),s.degree=Math.atan2(o.y,o.x)*180/Math.PI}),y(()=>{F(),document.onmousemove=function(n){e.cursor={x:n.clientX,y:n.clientY}},document.onmousedown=()=>{a().mousedown=!0},document.onmouseup=()=>{a().mousedown=!1},setInterval(()=>{e.visualCursor={x:e.cursor.x,y:e.cursor.y}},50)});function i(){a().debug=!a().debug}return(r,n)=>{const o=L("router-view"),u=b("dot-hover"),f=b("text-hover");return h(),g("div",T,[l("div",{class:"cursor-container",style:v({transform:`translate(${c(e).visualCursor.x-25}px,${c(e).visualCursor.y-25}px)`})},[l("div",{class:R({cursor:!0,hover:c(a)().hover,clicked:c(a)().mousedown,caret:c(a)().caret}),style:v({transform:c(a)().caret?"none":`rotate(${c(s).degree}deg) scale(${c(s).grow}, 1)  `})},null,6)],4),A(o),l("img",{class:"bg_img",src:j,style:v({transform:"none"})},null,4),l("div",V,[_(l("div",{class:"debug-trigger",onClick:i},null,512),[[u]]),c(a)().debug?(h(),g("div",z,[Q,l("p",null,"cursor: "+w(c(e).cursor.x)+", "+w(c(e).cursor.y),1)])):E("",!0)]),c(a)().debug?E("",!0):_((h(),g("div",W,[l("p",null,[Y,_((h(),g("a",G,U)),[[u]]),X]),l("p",null,[_((h(),g("a",Z,ee)),[[u]]),te,_((h(),g("a",se,ne)),[[u]])])])),[[f]])])}}});function ie(t){t.directive("dot-hover",(e,s)=>{e.onmouseenter=()=>{a().hover=s.value==null?!0:!s.value},e.onmouseleave=()=>{a().hover=!1}}),t.directive("text-hover",{mounted(e,s){e.onmouseenter=()=>{a().caret=!0},e.onmouseleave=()=>{a().caret=!1}}})}const ae="modulepreload",k={},ce="./",C=function(e,s){return!s||s.length===0?e():Promise.all(s.map(i=>{if(i=`${ce}${i}`,i in k)return;k[i]=!0;const r=i.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${n}`))return;const o=document.createElement("link");if(o.rel=r?"stylesheet":ae,r||(o.as="script",o.crossOrigin=""),o.href=i,document.head.appendChild(o),r)return new Promise((u,f)=>{o.addEventListener("load",u),o.addEventListener("error",f)})})).then(()=>e())},ue=[{path:"/",name:"Home",component:()=>C(()=>import("./Home.3a3a9143.js"),["assets/Home.3a3a9143.js","assets/Home.0c0d48ef.css","assets/vendor.7ed62f3d.js"])},{path:"/search",name:"SearchRedirect",component:()=>C(()=>import("./SearchRedrirect.88575f0e.js"),["assets/SearchRedrirect.88575f0e.js","assets/vendor.7ed62f3d.js"]),props:t=>({query:t.query.query,engine:t.query.engine})}],le=N({history:$(),routes:ue}),de=D(oe);de.use(ie).use(le).use(M()).mount("#app");export{a as u};
