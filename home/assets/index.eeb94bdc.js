import{d as D,a as I,b as B,r as k,o as u,c as g,e as l,w as y,f as N,g as p,h as F,i as q,j as L,k as P,l as O,m as C,n as R,p as K,u as a,q as S,s as j,t as z,v as A,x as w,T as M,F as V,y as x,z as H,A as G,K as Y,B as m,C as Q,D as U}from"./vendor.add57081.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}};X();const Z="modulepreload",W={},J="./",b=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${J}${o}`,o in W)return;W[o]=!0;const r=o.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":Z,r||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),r)return new Promise((h,d)=>{i.addEventListener("load",h),i.addEventListener("error",d)})})).then(()=>t())};var v;(function(e){e.phone="phone",e.desktop="desktop"})(v||(v={}));var f;(function(e){e.light="light",e.dark="dark",e.auto="auto"})(f||(f={}));var _;(function(e){e.follow="\u5706\u70B9\u8DDF\u968F",e.take="\u5706\u70B9",e.none="\u65E0\u7279\u6548"})(_||(_={}));var s=D({id:"app",state(){return{engine:null,engines:null,hover:!1,mousedown:!1,caret:!1,debug:!1,deviceClass:v.desktop,systemTheme:f.light,userThemeSetting:window.localStorage.getItem("userThemeSetting")||f.auto,hoverEngine:null,cursorEffect:window.localStorage.getItem("cursorEffect")||_.none,userAgent:{str:"",isFirefox:!1,isWindows:!1,isChrome:!1,isSafari:!1,isWebKit:!1}}},actions:{async doSearch(e){var n;const t=(n=this.engine)==null?void 0:n.urlPattern.replace("{query}",e);await this.postRecord(e,this.engine),window.location.href=t||" "},async postRecord(e,t){await I.post("https://api.catrefuse.com/add-record",{title:t.title,url_pattern:t.urlPattern,engine_id:t.id,tags:t.tags,search_string:e}).then(n=>{}).catch(n=>console.error(n))},switchEngineByAdd(e){var n;let t=0;for(let o=0;o<this.engines.length;o++)this.engines[o].title==((n=this.engine)==null?void 0:n.title)&&(t=o);t=t+e,t>=this.engines.length?t=t-this.engines.length:t<0&&(t=t+this.engines.length),this.engine=this.engines[t]},selectEngine(e){this.engine=e},selectEngineByIndex(e){this.engine=this.engines[e]},selectEngineByTitle(e){for(let t of this.engines)if(t.title==e){this.engine=t;break}},selectEngineByCommand(e){for(let t of this.engines)if(t.command==e){this.engine=t;break}},changeCursorEffect(e){this.cursorEffect=e,window.localStorage.setItem("cursorEffect",e)},changeThemeSetting(e){this.userThemeSetting=e,window.localStorage.setItem("userThemeSetting",e)}},getters:{theme(){return this.userThemeSetting==f.auto?this.systemTheme:this.userThemeSetting}}});function ee(){I.get("https://cdn.catrefuse.com/engines.json").then(e=>{s().engines=e.data,s().engine=e.data[0]}).catch(e=>{console.error(e.message)})}const te={class:"fixed bottom-4 right-4 w-[300px] flex flex-col rounded-lg overflow-hidden bg-zinc-800 shadow-2xl"},se={id:"debugger-header",class:"w-full text-center flex flex-row items-center justify-center text-white h-8 text-sm"},ne=l("div",{class:"select-none"},"debugger",-1),oe=l("div",{class:"rounded-full bg-red-500 h-3 w-3"},null,-1),re=l("div",{class:"rounded-full bg-yellow-500 h-3 w-3"},null,-1),ie=l("div",{class:"rounded-full bg-gray-500 h-3 w-3"},null,-1),ae=[oe,re,ie],le={id:"debugger-body",class:"font-mono text-green-600 bg-overlayshadow-xl p-5"},ce={class:"flex flex-col gap-1"},de=B({emits:["close"],setup(e,{emit:t}){return(n,o)=>{const r=k("text-hover");return u(),g("div",te,[l("div",se,[ne,l("div",{id:"dot-controller",class:"flex flex-row items-center gap-2 absolute left-0 p-3 hover:cursor-pointer",onClick:o[0]||(o[0]=c=>t("close"))},ae)]),y((u(),g("div",le,[l("div",ce,[N(n.$slots,"default")])])),[[r]])])}}});var ue=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const he={},me={class:"invisible md:visible md:fixed md:bottom-6 md:right-[28px] md:text-right md:z-[100] select-text text-sm mt-4 font-medium text-tertiary"},ge={class:"my-2"},fe=p(" \xA9 2020 - 2021 \u{1F353} "),_e={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},pe=p("Bad Strawberry"),ve=[pe],ye=p(". "),we=l("span",null,"All rights reserved.",-1),xe={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},be=p("\u7528\u6237\u534F\u8BAE"),Ee=[be],ke=p(" \xB7 "),Ce={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},Se=p("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),Ae=[Se];function Te(e,t){const n=k("dot-hover");return u(),g("div",me,[l("p",ge,[fe,y((u(),g("a",_e,ve)),[[n]]),ye,we]),l("p",null,[y((u(),g("a",xe,Ee)),[[n]]),ke,y((u(),g("a",Ce,Ae)),[[n]])])])}var $e=ue(he,[["render",Te]]);const Ie=[{path:"/",name:"Home",component:()=>b(()=>import("./Home.3e6e8d06.js"),["assets/Home.3e6e8d06.js","assets/Home.4eb37bb2.css","assets/vendor.add57081.js","assets/box-icon.d1e2c2ea.js","assets/box-icon.c3749a6e.css"]),meta:{depth:0}},{path:"/preference",name:"Preference",component:()=>b(()=>import("./Preference.430e13c0.js"),["assets/Preference.430e13c0.js","assets/box-icon.d1e2c2ea.js","assets/box-icon.c3749a6e.css","assets/vendor.add57081.js"]),meta:{depth:1}},{path:"/search",name:"SearchRedirect",component:()=>b(()=>import("./SearchRedrirect.6fdb4015.js"),["assets/SearchRedrirect.6fdb4015.js","assets/vendor.add57081.js"]),props:e=>({query:e.query.query,engine:e.query.engine})}],T=F({history:q(),routes:Ie});T.afterEach((e,t)=>{const n=e.path.split("/").length,o=t.path.split("/").length;e.meta.transition=n<o?"slide-left":"slide-right"});const Be={class:"grid grid-cols-12 gap-2 text-gray-800 select-none"},Le={class:"col-start-2 col-end-12 md:col-start-2 md:col-end-9 md:min-w-[512px] md:max-w-[764px] mt-12 md:mt-16 relative"},Pe=["src"],We=B({setup(e){function t(){s().deviceClass=window.innerWidth>=736?v.desktop:v.phone}function n(){s().systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?f.dark:f.light}L(()=>{t(),window.addEventListener("resize",()=>{t()}),n(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{n()})});const o=P({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),r=P({grow:1,degree:0});O(()=>o.visualCursor,(i,h)=>{const d={x:i.x-h.x,y:i.y-h.y},E=Math.sqrt(d.x*d.x+d.y*d.y);r.grow=Math.min(Math.max(E/5,1),2),r.degree=Math.atan2(d.y,d.x)*180/Math.PI}),C(()=>{s().theme=="dark"?document.getElementsByTagName("html")[0].classList.add("dark"):document.getElementsByTagName("html")[0].classList.remove("dark")}),setTimeout(()=>{document.body.classList.add("transition")},50),L(()=>{ee(),document.onmousemove=function(d){o.cursor={x:d.clientX,y:d.clientY}},document.onmousedown=()=>{s().mousedown=!0},document.onmouseup=()=>{s().mousedown=!1},setInterval(()=>{o.visualCursor={x:o.cursor.x,y:o.cursor.y}},10),s().userAgent.str=window.navigator.userAgent;const i=window.navigator.userAgent;s().userAgent.isFirefox=i.includes("Firefox"),s().userAgent.isWindows=i.toLowerCase().includes("Windows".toLowerCase()),s().userAgent.isChrome=i.includes("Chrome"),s().userAgent.isSafari=i.includes("Safari")&&!s().userAgent.str.includes("Chrome"),s().userAgent.isWebKit=i.toLowerCase().includes("WebKit".toLowerCase()),s().userAgent.isWebKit||(s().cursorEffect=_.none)}),C(()=>{s().deviceClass==v.phone&&document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))}),C(()=>{if(s().cursorEffect==_.take){var i=document.createElement("link");i.href=s().userAgent.isSafari?"./css/no-cusor-safari.css":"./css/no-cusor.css",i.rel="stylesheet",i.type="text/css",i.id="no-cursor-link",document.getElementsByTagName("head")[0].appendChild(i)}else document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))});let c=R("slide-left");return T.beforeEach((i,h)=>{h.meta.depth!=null?c.value=i.meta.depth<h.meta.depth?"slide-left":"slide-right":c.value="fade"}),(i,h)=>{const d=K("router-view"),E=k("text-hover");return u(),g(V,null,[l("div",Be,[a(s)().cursorEffect!=a(_).none?(u(),g("div",{key:0,class:"cursor-container invisible md:visible",style:S({transform:`translate(${a(o).visualCursor.x-25}px,${a(o).visualCursor.y-25}px)`,transition:`all ${a(s)().cursorEffect==a(_).follow?"0.1s":"0.05s"} cubic-bezier(0.1, 0.28, 0.45, 0.75)`})},[l("div",{class:j({cursor:!0,hover:a(s)().hover,clicked:a(s)().mousedown,caret:a(s)().caret}),style:S({transform:a(s)().caret?"none":`rotate(${a(r).degree}deg) scale(${a(r).grow}, 1)  `})},null,6)],4)):z("",!0),l("div",Le,[A(d,null,{default:w(({Component:$,route:Fe})=>[(u(),x(Y,null,[A(H,{name:a(c),mode:"out-in"},{default:w(()=>[(u(),x(G($)))]),_:2},1032,["name"])],1024))]),_:1})]),l("img",{name:"background-img",class:"fixed z-[-1000] -right-1 -bottom-1 pointer-events-none select-none",src:a(s)().theme==a(f).light?"/assets/quasar_logo_bg.svg":"/assets/quasar_logo_bg_dark.svg",style:S({transform:"none"})},null,12,Pe)]),A(M,{name:"slide-down"},{default:w(()=>[a(s)().debug?(u(),x(de,{key:0,onClose:h[0]||(h[0]=$=>a(s)().debug=!1)},{default:w(()=>[l("p",null,"cursor: "+m(a(o).cursor.x)+", "+m(a(o).cursor.y),1),l("p",null,"deviceClass: "+m(a(s)().deviceClass),1),l("p",null,"systemTheme: "+m(a(s)().systemTheme),1),l("p",null,"isFirefox: "+m(a(s)().userAgent.isFirefox),1),l("p",null,"isWindows: "+m(a(s)().userAgent.isWindows),1),l("p",null,"isChrome: "+m(a(s)().userAgent.isChrome),1),l("p",null,"isSafari: "+m(a(s)().userAgent.isSafari),1),l("p",null,"isWebKit: "+m(a(s)().userAgent.isWebKit),1),l("p",null,"userAgent: "+m(a(s)().userAgent.str),1)]),_:1})):y((u(),x($e,{key:1},null,512)),[[E]])]),_:1})],64)}}});function De(e){e.directive("dot-hover",(t,n)=>{t.onmouseenter=()=>{s().hover=n.value==null?!0:!n.value},t.onmouseleave=()=>{s().hover=!1}}),e.directive("text-hover",{mounted(t,n){t.onmouseenter=()=>{s().caret=!0},t.onmouseleave=()=>{s().caret=!1}}})}b(()=>Promise.resolve({}),["assets/transition.b2fa5aae.css"]);const Ne=Q(We);Ne.use(De).use(T).use(U()).mount("#app");export{_ as C,f as T,ue as _,T as r,s as u};
