import{d as R,a as B,c as q,b as M,e as N,o as D,r as P,w as O,f as $,g as j,h as z,i as S,j as h,k as f,l as d,u as i,n as b,m as V,p as k,q as T,s as L,t as p,v as w,F as H,x as _,T as W,y as Y,z as G,A as K,B as Q}from"./vendor.29a6fb42.js";const U=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};U();const X="modulepreload",A={},Z="./",E=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${Z}${s}`,s in A)return;A[s]=!0;const n=s.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":X,n||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),n)return new Promise((l,u)=>{c.addEventListener("load",l),c.addEventListener("error",u)})})).then(()=>t())};var J="./assets/quasar_logo_bg.20a7d8f1.svg",y;(function(e){e.phone="phone",e.desktop="desktop"})(y||(y={}));var x;(function(e){e.light="light",e.dark="dark"})(x||(x={}));var v;(function(e){e.follow="\u8DDF\u968F",e.take="\u66FF\u4EE3\u9ED8\u8BA4\u9F20\u6807",e.none="\u65E0\u7279\u6548"})(v||(v={}));var r=R({id:"app",state(){return{engine:null,engines:null,hover:!1,mousedown:!1,caret:!1,debug:!1,deviceClass:y.desktop,systemTheme:x.light,hoverEngine:null,cursorEffect:window.localStorage.getItem("cursorEffect")||v.take}},actions:{async doSearch(e){var o;const t=(o=this.engine)==null?void 0:o.urlPattern.replace("{query}",e);await this.postRecord(e,this.engine),window.location.href=t||" "},async postRecord(e,t){await B.post("https://api.catrefuse.com/add-record",{title:t.title,url_pattern:t.urlPattern,engine_id:t.id,tags:t.tags,search_string:e}).then(o=>{}).catch(o=>console.error(o))},switchEngineByAdd(e){var o;let t=0;for(let s=0;s<this.engines.length;s++)this.engines[s].title==((o=this.engine)==null?void 0:o.title)&&(t=s);t=t+e,t>=this.engines.length?t=t-this.engines.length:t<0&&(t=t+this.engines.length),this.engine=this.engines[t]},selectEngine(e){this.engine=e},selectEngineByIndex(e){this.engine=this.engines[e]},selectEngineByTitle(e){for(let t of this.engines)if(t.title==e){this.engine=t;break}},selectEngineByCommand(e){for(let t of this.engines)if(t.command==e){this.engine=t;break}},changeCursorEffect(e){this.cursorEffect=e,window.localStorage.setItem("cursorEffect",e)}}});function ee(){B.get("https://cdn.catrefuse.com/engines.json").then(e=>{r().engines=e.data,r().engine=e.data[0]}).catch(e=>{console.error(e.message)})}const te=[{path:"/",name:"Home",component:()=>E(()=>import("./Home.3105a22c.js"),["assets/Home.3105a22c.js","assets/Home.036720d7.css","assets/vendor.29a6fb42.js","assets/boxicons.a9512751.js"]),meta:{depth:0}},{path:"/preference",name:"Preference",component:()=>E(()=>import("./Preference.987c06ff.js"),["assets/Preference.987c06ff.js","assets/boxicons.a9512751.js","assets/vendor.29a6fb42.js"]),meta:{depth:1}},{path:"/search",name:"SearchRedirect",component:()=>E(()=>import("./SearchRedrirect.53feccf1.js"),["assets/SearchRedrirect.53feccf1.js","assets/vendor.29a6fb42.js"]),props:e=>({query:e.query.query,engine:e.query.engine})}],C=q({history:M(),routes:te});C.afterEach((e,t)=>{const o=e.path.split("/").length,s=t.path.split("/").length;e.meta.transition=o<s?"slide-left":"slide-right"});const se={class:"grid grid-cols-12 gap-2 text-gray-800 select-none"},ne={class:"col-start-2 col-end-12 md:col-start-2 md:col-end-7 md:min-w-[512px] md:max-w-[720px] mt-12 md:mt-16 relative"},oe={id:"debugger",class:"fixed bottom-4 right-4 width-[200px] font-['Fira_Code']"},re={key:0},ie=d("h3",{class:"mb-1"},"debugger",-1),ae={key:0,name:"footer",class:"invisible md:visible md:fixed md:bottom-6 md:right-[28px] md:text-right md:z-[100] select-text text-sm mt-4 font-medium opacity-30"},ce={class:"my-2"},le=_(" \xA9 2020 - 2021 \u{1F353} "),de={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},ue=_("Bad Strawberry"),he=[ue],me=_(". "),fe=d("span",null,"All rights reserved.",-1),ge={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},pe=_("\u7528\u6237\u534F\u8BAE"),_e=[pe],ve=_(" \xB7 "),ye={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},xe=_("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),we=[xe],Ee=N({setup(e){function t(){r().deviceClass=window.innerWidth>=736?y.desktop:y.phone}function o(){r().systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?x.dark:x.light}D(()=>{t(),window.addEventListener("resize",()=>{t()}),o(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{o()})});const s=P({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),n=P({grow:1,degree:0});O(()=>s.visualCursor,(l,u)=>{const m={x:l.x-u.x,y:l.y-u.y},g=Math.sqrt(m.x*m.x+m.y*m.y);n.grow=Math.min(Math.max(g/5,1),2),n.degree=Math.atan2(m.y,m.x)*180/Math.PI}),D(()=>{ee(),document.onmousemove=function(u){s.cursor={x:u.clientX,y:u.clientY}},document.onmousedown=()=>{r().mousedown=!0},document.onmouseup=()=>{r().mousedown=!1},setInterval(()=>{s.visualCursor={x:s.cursor.x,y:s.cursor.y}},10)});function a(){r().debug=!r().debug}$(()=>{if(r().cursorEffect==v.take){var l=document.createElement("link");l.href="./css/no-cusor.css",l.rel="stylesheet",l.type="text/css",l.id="no-cursor-link",document.getElementsByTagName("head")[0].appendChild(l)}else document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))});let c=j("slide-left");return C.beforeEach((l,u)=>{u.meta.depth!=null?c.value=l.meta.depth<u.meta.depth?"slide-left":"slide-right":c.value="fade"}),(l,u)=>{const m=z("router-view"),g=S("dot-hover"),I=S("text-hover");return h(),f(H,null,[d("div",se,[i(r)().cursorEffect!=i(v).none?(h(),f("div",{key:0,class:"cursor-container invisible md:visible",style:b({transform:`translate(${i(s).visualCursor.x-25}px,${i(s).visualCursor.y-25}px)`,transition:`all ${i(r)().cursorEffect==i(v).follow?"0.15s":"0.05s"} cubic-bezier(0.1, 0.28, 0.45, 0.75)`})},[d("div",{class:V({cursor:!0,hover:i(r)().hover,clicked:i(r)().mousedown,caret:i(r)().caret}),style:b({transform:i(r)().caret?"none":`rotate(${i(n).degree}deg) scale(${i(n).grow}, 1)  `})},null,6)],4)):k("",!0),d("div",ne,[T(m,null,{default:L(({Component:F,route:Ce})=>[T(W,{name:i(c)},{default:L(()=>[(h(),Y(G(F)))]),_:2},1032,["name"])]),_:1})]),d("img",{name:"background-img",class:"fixed z-[-1000] -right-1 -bottom-1 pointer-events-none select-none",src:J,style:b({transform:"none"})},null,4),p((h(),f("div",oe,[p(d("div",{class:"fixed top-1 right-1 w-12 h-12 hover:cursor-pointer",onClick:a},null,512),[[g]]),i(r)().debug?(h(),f("div",re,[ie,d("p",null,"cursor: "+w(i(s).cursor.x)+", "+w(i(s).cursor.y),1),d("p",null,"deviceClass: "+w(i(r)().deviceClass),1),d("p",null,"systemTheme: "+w(i(r)().systemTheme),1)])):k("",!0)])),[[I]])]),i(r)().debug?k("",!0):p((h(),f("div",ae,[d("p",ce,[le,p((h(),f("a",de,he)),[[g]]),me,fe]),d("p",null,[p((h(),f("a",ge,_e)),[[g]]),ve,p((h(),f("a",ye,we)),[[g]])])])),[[I]])],64)}}});function be(e){e.directive("dot-hover",(t,o)=>{t.onmouseenter=()=>{r().hover=o.value==null?!0:!o.value},t.onmouseleave=()=>{r().hover=!1}}),e.directive("text-hover",{mounted(t,o){t.onmouseenter=()=>{r().caret=!0},t.onmouseleave=()=>{r().caret=!1}}})}E(()=>Promise.resolve({}),["assets/transition.632f2028.css"]);const ke=K(Ee);ke.use(be).use(C).use(Q()).mount("#app");export{v as C,x as T,C as r,r as u};
