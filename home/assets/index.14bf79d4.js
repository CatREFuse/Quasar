import{d as R,a as I,c as q,b as M,e as O,o as T,r as D,w as $,f as j,g as z,h as V,i as P,j as h,k as f,l as d,u as i,n as b,m as H,p as k,q as S,s as A,t as p,v as E,F as W,x as _,y as L,T as K,z as Y,K as G,A as Q,B as U}from"./vendor.7d4c6bb6.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};X();const Z="modulepreload",F={},J="./",w=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${J}${n}`,n in F)return;F[n]=!0;const s=n.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Z,s||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),s)return new Promise((l,u)=>{c.addEventListener("load",l),c.addEventListener("error",u)})})).then(()=>t())};var ee="./assets/quasar_logo_bg.20a7d8f1.svg",v;(function(e){e.phone="phone",e.desktop="desktop"})(v||(v={}));var x;(function(e){e.light="light",e.dark="dark"})(x||(x={}));var y;(function(e){e.follow="\u8DDF\u968F",e.take="\u66FF\u4EE3\u9ED8\u8BA4\u9F20\u6807",e.none="\u65E0\u7279\u6548"})(y||(y={}));var o=R({id:"app",state(){return{engine:null,engines:null,hover:!1,mousedown:!1,caret:!1,debug:!1,deviceClass:v.desktop,systemTheme:x.light,hoverEngine:null,cursorEffect:window.localStorage.getItem("cursorEffect")||y.none}},actions:{async doSearch(e){var r;const t=(r=this.engine)==null?void 0:r.urlPattern.replace("{query}",e);await this.postRecord(e,this.engine),window.location.href=t||" "},async postRecord(e,t){await I.post("https://api.catrefuse.com/add-record",{title:t.title,url_pattern:t.urlPattern,engine_id:t.id,tags:t.tags,search_string:e}).then(r=>{}).catch(r=>console.error(r))},switchEngineByAdd(e){var r;let t=0;for(let n=0;n<this.engines.length;n++)this.engines[n].title==((r=this.engine)==null?void 0:r.title)&&(t=n);t=t+e,t>=this.engines.length?t=t-this.engines.length:t<0&&(t=t+this.engines.length),this.engine=this.engines[t]},selectEngine(e){this.engine=e},selectEngineByIndex(e){this.engine=this.engines[e]},selectEngineByTitle(e){for(let t of this.engines)if(t.title==e){this.engine=t;break}},selectEngineByCommand(e){for(let t of this.engines)if(t.command==e){this.engine=t;break}},changeCursorEffect(e){this.cursorEffect=e,window.localStorage.setItem("cursorEffect",e)}}});function te(){I.get("https://cdn.catrefuse.com/engines.json").then(e=>{o().engines=e.data,o().engine=e.data[0]}).catch(e=>{console.error(e.message)})}const ne=[{path:"/",name:"Home",component:()=>w(()=>import("./Home.4bb10d03.js"),["assets/Home.4bb10d03.js","assets/Home.036720d7.css","assets/vendor.7d4c6bb6.js","assets/boxicons.a9512751.js"]),meta:{depth:0}},{path:"/preference",name:"Preference",component:()=>w(()=>import("./Preference.4a42bf32.js"),["assets/Preference.4a42bf32.js","assets/boxicons.a9512751.js","assets/vendor.7d4c6bb6.js"]),meta:{depth:1}},{path:"/search",name:"SearchRedirect",component:()=>w(()=>import("./SearchRedrirect.070014b2.js"),["assets/SearchRedrirect.070014b2.js","assets/vendor.7d4c6bb6.js"]),props:e=>({query:e.query.query,engine:e.query.engine})}],C=q({history:M(),routes:ne});C.afterEach((e,t)=>{const r=e.path.split("/").length,n=t.path.split("/").length;e.meta.transition=r<n?"slide-left":"slide-right"});const se={class:"grid grid-cols-12 gap-2 text-gray-800 select-none"},oe={class:"col-start-2 col-end-12 md:col-start-2 md:col-end-9 md:min-w-[512px] md:max-w-[764px] mt-12 md:mt-16 relative"},re={id:"debugger",class:"fixed bottom-4 right-4 width-[200px] font-['Fira_Code']"},ie={key:0},ae=d("h3",{class:"mb-1"},"debugger",-1),ce={key:0,name:"footer",class:"invisible md:visible md:fixed md:bottom-6 md:right-[28px] md:text-right md:z-[100] select-text text-sm mt-4 font-medium opacity-30"},le={class:"my-2"},de=_(" \xA9 2020 - 2021 \u{1F353} "),ue={href:"http:///bad-strawberry.com",target:"_blank",class:"decoration-none hover:underline"},he=_("Bad Strawberry"),me=[he],fe=_(". "),ge=d("span",null,"All rights reserved.",-1),pe={href:"https://www.craft.do/s/Gi8HESIcZQsSIY",target:"_blank",class:"decoration-none hover:underline"},_e=_("\u7528\u6237\u534F\u8BAE"),ve=[_e],ye=_(" \xB7 "),xe={href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",class:"decoration-none hover:underline"},Ee=_("\u6D59 ICP \u5907 2020033146 \u53F7 - 2"),we=[Ee],be=O({setup(e){function t(){o().deviceClass=window.innerWidth>=736?v.desktop:v.phone}function r(){o().systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?x.dark:x.light}T(()=>{t(),window.addEventListener("resize",()=>{t()}),r(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{r()})});const n=D({cursor:{x:0,y:0},visualCursor:{x:0,y:0}}),s=D({grow:1,degree:0});$(()=>n.visualCursor,(l,u)=>{const m={x:l.x-u.x,y:l.y-u.y},g=Math.sqrt(m.x*m.x+m.y*m.y);s.grow=Math.min(Math.max(g/5,1),2),s.degree=Math.atan2(m.y,m.x)*180/Math.PI}),T(()=>{te(),document.onmousemove=function(u){n.cursor={x:u.clientX,y:u.clientY}},document.onmousedown=()=>{o().mousedown=!0},document.onmouseup=()=>{o().mousedown=!1},setInterval(()=>{n.visualCursor={x:n.cursor.x,y:n.cursor.y}},10)});function a(){o().debug=!o().debug}j(()=>{if(o().deviceClass==v.phone&&document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link")),o().cursorEffect==y.take){var l=document.createElement("link");l.href="./css/no-cusor.css",l.rel="stylesheet",l.type="text/css",l.id="no-cursor-link",document.getElementsByTagName("head")[0].appendChild(l)}else document.getElementById("no-cursor-link")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("no-cursor-link"))});let c=z("slide-left");return C.beforeEach((l,u)=>{u.meta.depth!=null?c.value=l.meta.depth<u.meta.depth?"slide-left":"slide-right":c.value="fade"}),(l,u)=>{const m=V("router-view"),g=P("dot-hover"),B=P("text-hover");return h(),f(W,null,[d("div",se,[i(o)().cursorEffect!=i(y).none?(h(),f("div",{key:0,class:"cursor-container invisible md:visible",style:b({transform:`translate(${i(n).visualCursor.x-25}px,${i(n).visualCursor.y-25}px)`,transition:`all ${i(o)().cursorEffect==i(y).follow?"0.1s":"0.05s"} cubic-bezier(0.1, 0.28, 0.45, 0.75)`})},[d("div",{class:H({cursor:!0,hover:i(o)().hover,clicked:i(o)().mousedown,caret:i(o)().caret}),style:b({transform:i(o)().caret?"none":`rotate(${i(s).degree}deg) scale(${i(s).grow}, 1)  `})},null,6)],4)):k("",!0),d("div",oe,[S(m,null,{default:A(({Component:N,route:Be})=>[(h(),L(G,null,[S(K,{name:i(c)},{default:A(()=>[(h(),L(Y(N)))]),_:2},1032,["name"])],1024))]),_:1})]),d("img",{name:"background-img",class:"fixed z-[-1000] -right-1 -bottom-1 pointer-events-none select-none",src:ee,style:b({transform:"none"})},null,4),p((h(),f("div",re,[p(d("div",{class:"fixed top-1 right-1 w-12 h-12 hover:cursor-pointer",onClick:a},null,512),[[g]]),i(o)().debug?(h(),f("div",ie,[ae,d("p",null,"cursor: "+E(i(n).cursor.x)+", "+E(i(n).cursor.y),1),d("p",null,"deviceClass: "+E(i(o)().deviceClass),1),d("p",null,"systemTheme: "+E(i(o)().systemTheme),1)])):k("",!0)])),[[B]])]),i(o)().debug?k("",!0):p((h(),f("div",ce,[d("p",le,[de,p((h(),f("a",ue,me)),[[g]]),fe,ge]),d("p",null,[p((h(),f("a",pe,ve)),[[g]]),ye,p((h(),f("a",xe,we)),[[g]])])])),[[B]])],64)}}});function ke(e){e.directive("dot-hover",(t,r)=>{t.onmouseenter=()=>{o().hover=r.value==null?!0:!r.value},t.onmouseleave=()=>{o().hover=!1}}),e.directive("text-hover",{mounted(t,r){t.onmouseenter=()=>{o().caret=!0},t.onmouseleave=()=>{o().caret=!1}}})}w(()=>Promise.resolve({}),["assets/transition.632f2028.css"]);const Ce=Q(be);Ce.use(ke).use(C).use(U()).mount("#app");export{y as C,x as T,C as r,o as u};
